import{d as W,r as T,o as Mt,L as se,v as S,M as Ro,N as jn,j as G,a as ut,t as b,x as m,O as p,y as J,P as Me,B as Dt,C as ft,D as dt,_ as j,Q as $t,z,R as Yn,S as Xn,T as Io,U as Do,V as $o,W as Zn,X as ae,K as qn,Y as Le,H as q,Z as le,$ as Mo,a0 as wt,a1 as No,a2 as ko,a3 as Kn,a4 as ce,a5 as Xt,a6 as Rt,a7 as Qn,a8 as Po,a9 as Ho,A as pn}from"./DeDa0RIM.js";const zo=Symbol.for("nuxt:client-only"),Uo=W({name:"ClientOnly",inheritAttrs:!1,props:["fallback","placeholder","placeholderTag","fallbackTag"],setup(t,{slots:e,attrs:n}){const o=T(!1);return Mt(()=>{o.value=!0}),se(zo,!0),r=>{var u;if(o.value)return(u=e.default)==null?void 0:u.call(e);const i=e.fallback||e.placeholder;if(i)return i();const a=r.fallback||r.placeholder||"",l=r.fallbackTag||r.placeholderTag||"span";return S(l,n,a)}}});/*! @license DOMPurify 3.1.6 | (c) Cure53 and other contributors | Released under the Apache license 2.0 and Mozilla Public License 2.0 | github.com/cure53/DOMPurify/blob/3.1.6/LICENSE */const{entries:Jn,setPrototypeOf:mn,isFrozen:Fo,getPrototypeOf:Wo,getOwnPropertyDescriptor:Bo}=Object;let{freeze:K,seal:rt,create:to}=Object,{apply:xe,construct:Re}=typeof Reflect<"u"&&Reflect;K||(K=function(e){return e});rt||(rt=function(e){return e});xe||(xe=function(e,n,o){return e.apply(n,o)});Re||(Re=function(e,n){return new e(...n)});const ne=tt(Array.prototype.forEach),_n=tt(Array.prototype.pop),Ft=tt(Array.prototype.push),re=tt(String.prototype.toLowerCase),be=tt(String.prototype.toString),hn=tt(String.prototype.match),Wt=tt(String.prototype.replace),Vo=tt(String.prototype.indexOf),Go=tt(String.prototype.trim),at=tt(Object.prototype.hasOwnProperty),Z=tt(RegExp.prototype.test),Bt=jo(TypeError);function tt(t){return function(e){for(var n=arguments.length,o=new Array(n>1?n-1:0),r=1;r<n;r++)o[r-1]=arguments[r];return xe(t,e,o)}}function jo(t){return function(){for(var e=arguments.length,n=new Array(e),o=0;o<e;o++)n[o]=arguments[o];return Re(t,n)}}function E(t,e){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:re;mn&&mn(t,null);let o=e.length;for(;o--;){let r=e[o];if(typeof r=="string"){const i=n(r);i!==r&&(Fo(e)||(e[o]=i),r=i)}t[r]=!0}return t}function Yo(t){for(let e=0;e<t.length;e++)at(t,e)||(t[e]=null);return t}function Et(t){const e=to(null);for(const[n,o]of Jn(t))at(t,n)&&(Array.isArray(o)?e[n]=Yo(o):o&&typeof o=="object"&&o.constructor===Object?e[n]=Et(o):e[n]=o);return e}function Vt(t,e){for(;t!==null;){const o=Bo(t,e);if(o){if(o.get)return tt(o.get);if(typeof o.value=="function")return tt(o.value)}t=Wo(t)}function n(){return null}return n}const gn=K(["a","abbr","acronym","address","area","article","aside","audio","b","bdi","bdo","big","blink","blockquote","body","br","button","canvas","caption","center","cite","code","col","colgroup","content","data","datalist","dd","decorator","del","details","dfn","dialog","dir","div","dl","dt","element","em","fieldset","figcaption","figure","font","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","img","input","ins","kbd","label","legend","li","main","map","mark","marquee","menu","menuitem","meter","nav","nobr","ol","optgroup","option","output","p","picture","pre","progress","q","rp","rt","ruby","s","samp","section","select","shadow","small","source","spacer","span","strike","strong","style","sub","summary","sup","table","tbody","td","template","textarea","tfoot","th","thead","time","tr","track","tt","u","ul","var","video","wbr"]),Te=K(["svg","a","altglyph","altglyphdef","altglyphitem","animatecolor","animatemotion","animatetransform","circle","clippath","defs","desc","ellipse","filter","font","g","glyph","glyphref","hkern","image","line","lineargradient","marker","mask","metadata","mpath","path","pattern","polygon","polyline","radialgradient","rect","stop","style","switch","symbol","text","textpath","title","tref","tspan","view","vkern"]),Ee=K(["feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feDropShadow","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence"]),Xo=K(["animate","color-profile","cursor","discard","font-face","font-face-format","font-face-name","font-face-src","font-face-uri","foreignobject","hatch","hatchpath","mesh","meshgradient","meshpatch","meshrow","missing-glyph","script","set","solidcolor","unknown","use"]),Ae=K(["math","menclose","merror","mfenced","mfrac","mglyph","mi","mlabeledtr","mmultiscripts","mn","mo","mover","mpadded","mphantom","mroot","mrow","ms","mspace","msqrt","mstyle","msub","msup","msubsup","mtable","mtd","mtext","mtr","munder","munderover","mprescripts"]),Zo=K(["maction","maligngroup","malignmark","mlongdiv","mscarries","mscarry","msgroup","mstack","msline","msrow","semantics","annotation","annotation-xml","mprescripts","none"]),vn=K(["#text"]),wn=K(["accept","action","align","alt","autocapitalize","autocomplete","autopictureinpicture","autoplay","background","bgcolor","border","capture","cellpadding","cellspacing","checked","cite","class","clear","color","cols","colspan","controls","controlslist","coords","crossorigin","datetime","decoding","default","dir","disabled","disablepictureinpicture","disableremoteplayback","download","draggable","enctype","enterkeyhint","face","for","headers","height","hidden","high","href","hreflang","id","inputmode","integrity","ismap","kind","label","lang","list","loading","loop","low","max","maxlength","media","method","min","minlength","multiple","muted","name","nonce","noshade","novalidate","nowrap","open","optimum","pattern","placeholder","playsinline","popover","popovertarget","popovertargetaction","poster","preload","pubdate","radiogroup","readonly","rel","required","rev","reversed","role","rows","rowspan","spellcheck","scope","selected","shape","size","sizes","span","srclang","start","src","srcset","step","style","summary","tabindex","title","translate","type","usemap","valign","value","width","wrap","xmlns","slot"]),Ce=K(["accent-height","accumulate","additive","alignment-baseline","ascent","attributename","attributetype","azimuth","basefrequency","baseline-shift","begin","bias","by","class","clip","clippathunits","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-profile","color-rendering","cx","cy","d","dx","dy","diffuseconstant","direction","display","divisor","dur","edgemode","elevation","end","fill","fill-opacity","fill-rule","filter","filterunits","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","fx","fy","g1","g2","glyph-name","glyphref","gradientunits","gradienttransform","height","href","id","image-rendering","in","in2","k","k1","k2","k3","k4","kerning","keypoints","keysplines","keytimes","lang","lengthadjust","letter-spacing","kernelmatrix","kernelunitlength","lighting-color","local","marker-end","marker-mid","marker-start","markerheight","markerunits","markerwidth","maskcontentunits","maskunits","max","mask","media","method","mode","min","name","numoctaves","offset","operator","opacity","order","orient","orientation","origin","overflow","paint-order","path","pathlength","patterncontentunits","patterntransform","patternunits","points","preservealpha","preserveaspectratio","primitiveunits","r","rx","ry","radius","refx","refy","repeatcount","repeatdur","restart","result","rotate","scale","seed","shape-rendering","specularconstant","specularexponent","spreadmethod","startoffset","stddeviation","stitchtiles","stop-color","stop-opacity","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke","stroke-width","style","surfacescale","systemlanguage","tabindex","targetx","targety","transform","transform-origin","text-anchor","text-decoration","text-rendering","textlength","type","u1","u2","unicode","values","viewbox","visibility","version","vert-adv-y","vert-origin-x","vert-origin-y","width","word-spacing","wrap","writing-mode","xchannelselector","ychannelselector","x","x1","x2","xmlns","y","y1","y2","z","zoomandpan"]),yn=K(["accent","accentunder","align","bevelled","close","columnsalign","columnlines","columnspan","denomalign","depth","dir","display","displaystyle","encoding","fence","frame","height","href","id","largeop","length","linethickness","lspace","lquote","mathbackground","mathcolor","mathsize","mathvariant","maxsize","minsize","movablelimits","notation","numalign","open","rowalign","rowlines","rowspacing","rowspan","rspace","rquote","scriptlevel","scriptminsize","scriptsizemultiplier","selection","separator","separators","stretchy","subscriptshift","supscriptshift","symmetric","voffset","width","xmlns"]),oe=K(["xlink:href","xml:id","xlink:title","xml:space","xmlns:xlink"]),qo=rt(/\{\{[\w\W]*|[\w\W]*\}\}/gm),Ko=rt(/<%[\w\W]*|[\w\W]*%>/gm),Qo=rt(/\${[\w\W]*}/gm),Jo=rt(/^data-[\-\w.\u00B7-\uFFFF]/),ts=rt(/^aria-[\-\w]+$/),eo=rt(/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|sms|cid|xmpp):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i),es=rt(/^(?:\w+script|data):/i),ns=rt(/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205F\u3000]/g),no=rt(/^html$/i),os=rt(/^[a-z][.\w]*(-[.\w]+)+$/i);var bn=Object.freeze({__proto__:null,MUSTACHE_EXPR:qo,ERB_EXPR:Ko,TMPLIT_EXPR:Qo,DATA_ATTR:Jo,ARIA_ATTR:ts,IS_ALLOWED_URI:eo,IS_SCRIPT_OR_DATA:es,ATTR_WHITESPACE:ns,DOCTYPE_NAME:no,CUSTOM_ELEMENT:os});const Gt={element:1,attribute:2,text:3,cdataSection:4,entityReference:5,entityNode:6,progressingInstruction:7,comment:8,document:9,documentType:10,documentFragment:11,notation:12},ss=function(){return typeof window>"u"?null:window},rs=function(e,n){if(typeof e!="object"||typeof e.createPolicy!="function")return null;let o=null;const r="data-tt-policy-suffix";n&&n.hasAttribute(r)&&(o=n.getAttribute(r));const i="dompurify"+(o?"#"+o:"");try{return e.createPolicy(i,{createHTML(a){return a},createScriptURL(a){return a}})}catch{return null}};function oo(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:ss();const e=y=>oo(y);if(e.version="3.1.6",e.removed=[],!t||!t.document||t.document.nodeType!==Gt.document)return e.isSupported=!1,e;let{document:n}=t;const o=n,r=o.currentScript,{DocumentFragment:i,HTMLTemplateElement:a,Node:l,Element:u,NodeFilter:c,NamedNodeMap:_=t.NamedNodeMap||t.MozNamedAttrMap,HTMLFormElement:f,DOMParser:g,trustedTypes:v}=t,h=u.prototype,C=Vt(h,"cloneNode"),$=Vt(h,"remove"),x=Vt(h,"nextSibling"),D=Vt(h,"childNodes"),it=Vt(h,"parentNode");if(typeof a=="function"){const y=n.createElement("template");y.content&&y.content.ownerDocument&&(n=y.content.ownerDocument)}let R,et="";const{implementation:ht,createNodeIterator:A,createDocumentFragment:nt,getElementsByTagName:U}=n,{importNode:pt}=o;let M={};e.isSupported=typeof Jn=="function"&&typeof it=="function"&&ht&&ht.createHTMLDocument!==void 0;const{MUSTACHE_EXPR:Y,ERB_EXPR:N,TMPLIT_EXPR:ot,DATA_ATTR:st,ARIA_ATTR:bt,IS_SCRIPT_OR_DATA:L,ATTR_WHITESPACE:kt,CUSTOM_ELEMENT:qt}=bn;let{IS_ALLOWED_URI:ze}=bn,k=null;const Ue=E({},[...gn,...Te,...Ee,...Ae,...vn]);let P=null;const Fe=E({},[...wn,...Ce,...yn,...oe]);let I=Object.seal(to(null,{tagNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},attributeNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},allowCustomizedBuiltInElements:{writable:!0,configurable:!1,enumerable:!0,value:!1}})),Pt=null,fe=null,We=!0,de=!0,Be=!1,Ve=!0,At=!1,pe=!0,Tt=!1,me=!1,_e=!1,Ct=!1,Kt=!1,Qt=!1,Ge=!0,je=!1;const To="user-content-";let he=!0,Ht=!1,St={},Ot=null;const Ye=E({},["annotation-xml","audio","colgroup","desc","foreignobject","head","iframe","math","mi","mn","mo","ms","mtext","noembed","noframes","noscript","plaintext","script","style","svg","template","thead","title","video","xmp"]);let Xe=null;const Ze=E({},["audio","video","img","source","image","track"]);let ge=null;const qe=E({},["alt","class","for","id","label","name","pattern","placeholder","role","summary","title","value","style","xmlns"]),Jt="http://www.w3.org/1998/Math/MathML",te="http://www.w3.org/2000/svg",gt="http://www.w3.org/1999/xhtml";let Lt=gt,ve=!1,we=null;const Eo=E({},[Jt,te,gt],be);let zt=null;const Ao=["application/xhtml+xml","text/html"],Co="text/html";let H=null,xt=null;const So=n.createElement("form"),Ke=function(s){return s instanceof RegExp||s instanceof Function},ye=function(){let s=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};if(!(xt&&xt===s)){if((!s||typeof s!="object")&&(s={}),s=Et(s),zt=Ao.indexOf(s.PARSER_MEDIA_TYPE)===-1?Co:s.PARSER_MEDIA_TYPE,H=zt==="application/xhtml+xml"?be:re,k=at(s,"ALLOWED_TAGS")?E({},s.ALLOWED_TAGS,H):Ue,P=at(s,"ALLOWED_ATTR")?E({},s.ALLOWED_ATTR,H):Fe,we=at(s,"ALLOWED_NAMESPACES")?E({},s.ALLOWED_NAMESPACES,be):Eo,ge=at(s,"ADD_URI_SAFE_ATTR")?E(Et(qe),s.ADD_URI_SAFE_ATTR,H):qe,Xe=at(s,"ADD_DATA_URI_TAGS")?E(Et(Ze),s.ADD_DATA_URI_TAGS,H):Ze,Ot=at(s,"FORBID_CONTENTS")?E({},s.FORBID_CONTENTS,H):Ye,Pt=at(s,"FORBID_TAGS")?E({},s.FORBID_TAGS,H):{},fe=at(s,"FORBID_ATTR")?E({},s.FORBID_ATTR,H):{},St=at(s,"USE_PROFILES")?s.USE_PROFILES:!1,We=s.ALLOW_ARIA_ATTR!==!1,de=s.ALLOW_DATA_ATTR!==!1,Be=s.ALLOW_UNKNOWN_PROTOCOLS||!1,Ve=s.ALLOW_SELF_CLOSE_IN_ATTR!==!1,At=s.SAFE_FOR_TEMPLATES||!1,pe=s.SAFE_FOR_XML!==!1,Tt=s.WHOLE_DOCUMENT||!1,Ct=s.RETURN_DOM||!1,Kt=s.RETURN_DOM_FRAGMENT||!1,Qt=s.RETURN_TRUSTED_TYPE||!1,_e=s.FORCE_BODY||!1,Ge=s.SANITIZE_DOM!==!1,je=s.SANITIZE_NAMED_PROPS||!1,he=s.KEEP_CONTENT!==!1,Ht=s.IN_PLACE||!1,ze=s.ALLOWED_URI_REGEXP||eo,Lt=s.NAMESPACE||gt,I=s.CUSTOM_ELEMENT_HANDLING||{},s.CUSTOM_ELEMENT_HANDLING&&Ke(s.CUSTOM_ELEMENT_HANDLING.tagNameCheck)&&(I.tagNameCheck=s.CUSTOM_ELEMENT_HANDLING.tagNameCheck),s.CUSTOM_ELEMENT_HANDLING&&Ke(s.CUSTOM_ELEMENT_HANDLING.attributeNameCheck)&&(I.attributeNameCheck=s.CUSTOM_ELEMENT_HANDLING.attributeNameCheck),s.CUSTOM_ELEMENT_HANDLING&&typeof s.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements=="boolean"&&(I.allowCustomizedBuiltInElements=s.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements),At&&(de=!1),Kt&&(Ct=!0),St&&(k=E({},vn),P=[],St.html===!0&&(E(k,gn),E(P,wn)),St.svg===!0&&(E(k,Te),E(P,Ce),E(P,oe)),St.svgFilters===!0&&(E(k,Ee),E(P,Ce),E(P,oe)),St.mathMl===!0&&(E(k,Ae),E(P,yn),E(P,oe))),s.ADD_TAGS&&(k===Ue&&(k=Et(k)),E(k,s.ADD_TAGS,H)),s.ADD_ATTR&&(P===Fe&&(P=Et(P)),E(P,s.ADD_ATTR,H)),s.ADD_URI_SAFE_ATTR&&E(ge,s.ADD_URI_SAFE_ATTR,H),s.FORBID_CONTENTS&&(Ot===Ye&&(Ot=Et(Ot)),E(Ot,s.FORBID_CONTENTS,H)),he&&(k["#text"]=!0),Tt&&E(k,["html","head","body"]),k.table&&(E(k,["tbody"]),delete Pt.tbody),s.TRUSTED_TYPES_POLICY){if(typeof s.TRUSTED_TYPES_POLICY.createHTML!="function")throw Bt('TRUSTED_TYPES_POLICY configuration option must provide a "createHTML" hook.');if(typeof s.TRUSTED_TYPES_POLICY.createScriptURL!="function")throw Bt('TRUSTED_TYPES_POLICY configuration option must provide a "createScriptURL" hook.');R=s.TRUSTED_TYPES_POLICY,et=R.createHTML("")}else R===void 0&&(R=rs(v,r)),R!==null&&typeof et=="string"&&(et=R.createHTML(""));K&&K(s),xt=s}},Qe=E({},["mi","mo","mn","ms","mtext"]),Je=E({},["foreignobject","annotation-xml"]),Oo=E({},["title","style","font","a","script"]),tn=E({},[...Te,...Ee,...Xo]),en=E({},[...Ae,...Zo]),Lo=function(s){let d=it(s);(!d||!d.tagName)&&(d={namespaceURI:Lt,tagName:"template"});const w=re(s.tagName),O=re(d.tagName);return we[s.namespaceURI]?s.namespaceURI===te?d.namespaceURI===gt?w==="svg":d.namespaceURI===Jt?w==="svg"&&(O==="annotation-xml"||Qe[O]):!!tn[w]:s.namespaceURI===Jt?d.namespaceURI===gt?w==="math":d.namespaceURI===te?w==="math"&&Je[O]:!!en[w]:s.namespaceURI===gt?d.namespaceURI===te&&!Je[O]||d.namespaceURI===Jt&&!Qe[O]?!1:!en[w]&&(Oo[w]||!tn[w]):!!(zt==="application/xhtml+xml"&&we[s.namespaceURI]):!1},mt=function(s){Ft(e.removed,{element:s});try{it(s).removeChild(s)}catch{$(s)}},ee=function(s,d){try{Ft(e.removed,{attribute:d.getAttributeNode(s),from:d})}catch{Ft(e.removed,{attribute:null,from:d})}if(d.removeAttribute(s),s==="is"&&!P[s])if(Ct||Kt)try{mt(d)}catch{}else try{d.setAttribute(s,"")}catch{}},nn=function(s){let d=null,w=null;if(_e)s="<remove></remove>"+s;else{const F=hn(s,/^[\r\n\t ]+/);w=F&&F[0]}zt==="application/xhtml+xml"&&Lt===gt&&(s='<html xmlns="http://www.w3.org/1999/xhtml"><head></head><body>'+s+"</body></html>");const O=R?R.createHTML(s):s;if(Lt===gt)try{d=new g().parseFromString(O,zt)}catch{}if(!d||!d.documentElement){d=ht.createDocument(Lt,"template",null);try{d.documentElement.innerHTML=ve?et:O}catch{}}const B=d.body||d.documentElement;return s&&w&&B.insertBefore(n.createTextNode(w),B.childNodes[0]||null),Lt===gt?U.call(d,Tt?"html":"body")[0]:Tt?d.documentElement:B},on=function(s){return A.call(s.ownerDocument||s,s,c.SHOW_ELEMENT|c.SHOW_COMMENT|c.SHOW_TEXT|c.SHOW_PROCESSING_INSTRUCTION|c.SHOW_CDATA_SECTION,null)},sn=function(s){return s instanceof f&&(typeof s.nodeName!="string"||typeof s.textContent!="string"||typeof s.removeChild!="function"||!(s.attributes instanceof _)||typeof s.removeAttribute!="function"||typeof s.setAttribute!="function"||typeof s.namespaceURI!="string"||typeof s.insertBefore!="function"||typeof s.hasChildNodes!="function")},rn=function(s){return typeof l=="function"&&s instanceof l},vt=function(s,d,w){M[s]&&ne(M[s],O=>{O.call(e,d,w,xt)})},an=function(s){let d=null;if(vt("beforeSanitizeElements",s,null),sn(s))return mt(s),!0;const w=H(s.nodeName);if(vt("uponSanitizeElement",s,{tagName:w,allowedTags:k}),s.hasChildNodes()&&!rn(s.firstElementChild)&&Z(/<[/\w]/g,s.innerHTML)&&Z(/<[/\w]/g,s.textContent)||s.nodeType===Gt.progressingInstruction||pe&&s.nodeType===Gt.comment&&Z(/<[/\w]/g,s.data))return mt(s),!0;if(!k[w]||Pt[w]){if(!Pt[w]&&cn(w)&&(I.tagNameCheck instanceof RegExp&&Z(I.tagNameCheck,w)||I.tagNameCheck instanceof Function&&I.tagNameCheck(w)))return!1;if(he&&!Ot[w]){const O=it(s)||s.parentNode,B=D(s)||s.childNodes;if(B&&O){const F=B.length;for(let Q=F-1;Q>=0;--Q){const _t=C(B[Q],!0);_t.__removalCount=(s.__removalCount||0)+1,O.insertBefore(_t,x(s))}}}return mt(s),!0}return s instanceof u&&!Lo(s)||(w==="noscript"||w==="noembed"||w==="noframes")&&Z(/<\/no(script|embed|frames)/i,s.innerHTML)?(mt(s),!0):(At&&s.nodeType===Gt.text&&(d=s.textContent,ne([Y,N,ot],O=>{d=Wt(d,O," ")}),s.textContent!==d&&(Ft(e.removed,{element:s.cloneNode()}),s.textContent=d)),vt("afterSanitizeElements",s,null),!1)},ln=function(s,d,w){if(Ge&&(d==="id"||d==="name")&&(w in n||w in So))return!1;if(!(de&&!fe[d]&&Z(st,d))){if(!(We&&Z(bt,d))){if(!P[d]||fe[d]){if(!(cn(s)&&(I.tagNameCheck instanceof RegExp&&Z(I.tagNameCheck,s)||I.tagNameCheck instanceof Function&&I.tagNameCheck(s))&&(I.attributeNameCheck instanceof RegExp&&Z(I.attributeNameCheck,d)||I.attributeNameCheck instanceof Function&&I.attributeNameCheck(d))||d==="is"&&I.allowCustomizedBuiltInElements&&(I.tagNameCheck instanceof RegExp&&Z(I.tagNameCheck,w)||I.tagNameCheck instanceof Function&&I.tagNameCheck(w))))return!1}else if(!ge[d]){if(!Z(ze,Wt(w,kt,""))){if(!((d==="src"||d==="xlink:href"||d==="href")&&s!=="script"&&Vo(w,"data:")===0&&Xe[s])){if(!(Be&&!Z(L,Wt(w,kt,"")))){if(w)return!1}}}}}}return!0},cn=function(s){return s!=="annotation-xml"&&hn(s,qt)},un=function(s){vt("beforeSanitizeAttributes",s,null);const{attributes:d}=s;if(!d)return;const w={attrName:"",attrValue:"",keepAttr:!0,allowedAttributes:P};let O=d.length;for(;O--;){const B=d[O],{name:F,namespaceURI:Q,value:_t}=B,Ut=H(F);let X=F==="value"?_t:Go(_t);if(w.attrName=Ut,w.attrValue=X,w.keepAttr=!0,w.forceKeepAttr=void 0,vt("uponSanitizeAttribute",s,w),X=w.attrValue,pe&&Z(/((--!?|])>)|<\/(style|title)/i,X)){ee(F,s);continue}if(w.forceKeepAttr||(ee(F,s),!w.keepAttr))continue;if(!Ve&&Z(/\/>/i,X)){ee(F,s);continue}At&&ne([Y,N,ot],dn=>{X=Wt(X,dn," ")});const fn=H(s.nodeName);if(ln(fn,Ut,X)){if(je&&(Ut==="id"||Ut==="name")&&(ee(F,s),X=To+X),R&&typeof v=="object"&&typeof v.getAttributeType=="function"&&!Q)switch(v.getAttributeType(fn,Ut)){case"TrustedHTML":{X=R.createHTML(X);break}case"TrustedScriptURL":{X=R.createScriptURL(X);break}}try{Q?s.setAttributeNS(Q,F,X):s.setAttribute(F,X),sn(s)?mt(s):_n(e.removed)}catch{}}}vt("afterSanitizeAttributes",s,null)},xo=function y(s){let d=null;const w=on(s);for(vt("beforeSanitizeShadowDOM",s,null);d=w.nextNode();)vt("uponSanitizeShadowNode",d,null),!an(d)&&(d.content instanceof i&&y(d.content),un(d));vt("afterSanitizeShadowDOM",s,null)};return e.sanitize=function(y){let s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},d=null,w=null,O=null,B=null;if(ve=!y,ve&&(y="<!-->"),typeof y!="string"&&!rn(y))if(typeof y.toString=="function"){if(y=y.toString(),typeof y!="string")throw Bt("dirty is not a string, aborting")}else throw Bt("toString is not a function");if(!e.isSupported)return y;if(me||ye(s),e.removed=[],typeof y=="string"&&(Ht=!1),Ht){if(y.nodeName){const _t=H(y.nodeName);if(!k[_t]||Pt[_t])throw Bt("root node is forbidden and cannot be sanitized in-place")}}else if(y instanceof l)d=nn("<!---->"),w=d.ownerDocument.importNode(y,!0),w.nodeType===Gt.element&&w.nodeName==="BODY"||w.nodeName==="HTML"?d=w:d.appendChild(w);else{if(!Ct&&!At&&!Tt&&y.indexOf("<")===-1)return R&&Qt?R.createHTML(y):y;if(d=nn(y),!d)return Ct?null:Qt?et:""}d&&_e&&mt(d.firstChild);const F=on(Ht?y:d);for(;O=F.nextNode();)an(O)||(O.content instanceof i&&xo(O.content),un(O));if(Ht)return y;if(Ct){if(Kt)for(B=nt.call(d.ownerDocument);d.firstChild;)B.appendChild(d.firstChild);else B=d;return(P.shadowroot||P.shadowrootmode)&&(B=pt.call(o,B,!0)),B}let Q=Tt?d.outerHTML:d.innerHTML;return Tt&&k["!doctype"]&&d.ownerDocument&&d.ownerDocument.doctype&&d.ownerDocument.doctype.name&&Z(no,d.ownerDocument.doctype.name)&&(Q="<!DOCTYPE "+d.ownerDocument.doctype.name+`>
`+Q),At&&ne([Y,N,ot],_t=>{Q=Wt(Q,_t," ")}),R&&Qt?R.createHTML(Q):Q},e.setConfig=function(){let y=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};ye(y),me=!0},e.clearConfig=function(){xt=null,me=!1},e.isValidAttribute=function(y,s,d){xt||ye({});const w=H(y),O=H(s);return ln(w,O,d)},e.addHook=function(y,s){typeof s=="function"&&(M[y]=M[y]||[],Ft(M[y],s))},e.removeHook=function(y){if(M[y])return _n(M[y])},e.removeHooks=function(y){M[y]&&(M[y]=[])},e.removeAllHooks=function(){M={}},e}var is=oo();const Yt=""+new URL("default-cover.oB27RXoN.svg",import.meta.url).href;function Ne(t){return is.sanitize(t)}async function as(){const{response:{data:{viewer:{login:t,avatarUrl:e,repositories:{totalCount:n}}}}}=await window.getUserInfo();return{login:t,avatarUrl:e,url:`https://github.com/${encodeURIComponent(t)}`,repositoriesCount:n}}async function Tn(t){const{response:{data:{repository:{discussions:{nodes:e,pageInfo:{hasNextPage:n,endCursor:o}}}}}}=await window.getDiscussions(t);return{discussions:e.map(r=>{try{return{...r,bodyHTML:Ne(r.bodyHTML)}}catch{return null}}).filter(r=>r!==null).map(r=>{var c;const i=ke(r.bodyHTML),a=(c=i.content)==null?void 0:c.querySelector("img"),l=(a==null?void 0:a.src)??Yt;let u=a==null?void 0:a.parentElement;for(a==null||a.remove();u instanceof HTMLElement&&u.children.length==0;)u==null||u.remove(),u=u.parentElement;return i.content.querySelectorAll('a:not([href^="#"])').forEach(_=>_.target="_blank"),{...r,cover:l,author:{...r.author,repositoriesCount:void 0},bodyHTML:i.innerHTML,comments:[],commentsCount:r.comments.totalCount,hasNextPage:!0,endCursor:null,isPinned:!1}}),hasNextPage:n,endCursor:o}}async function En(t){const{response:{data:{repository:{pinnedDiscussions:{nodes:e,pageInfo:{hasNextPage:n,endCursor:o}}}}}}=await window.getPinnedDiscussions(t);return{discussions:e.map(r=>r.discussion).map(r=>{try{return{...r,bodyHTML:Ne(r.bodyHTML)}}catch{return null}}).filter(r=>r!==null).map(r=>{var c;const i=ke(r.bodyHTML),a=(c=i.content)==null?void 0:c.querySelector("img"),l=(a==null?void 0:a.src)??Yt;let u=a==null?void 0:a.parentElement;for(a==null||a.remove();u instanceof HTMLElement&&u.children.length==0;)u==null||u.remove(),u=u.parentElement;return i.content.querySelectorAll('a:not([href^="#"])').forEach(_=>_.target="_blank"),{...r,cover:l,author:{...r.author,repositoriesCount:void 0},bodyHTML:i.innerHTML,comments:[],commentsCount:r.comments.totalCount,hasNextPage:!0,endCursor:null,isPinned:!0}}),hasNextPage:n,endCursor:o}}async function An(t,e){const{response:{data:{repository:{discussion:{comments:{nodes:n,pageInfo:{hasNextPage:o,endCursor:r}}}}}}}=await window.getComments(t,e);return{comments:n.map(i=>{try{return{...i,bodyHTML:Ne(i.bodyHTML),author:{...i.author,repositoriesCount:void 0}}}catch{return null}}).filter(i=>i!==null).map(i=>{const a=ke(i.bodyHTML);return a.content.querySelectorAll('a:not([href^="#"])').forEach(l=>l.target="_blank"),{...i,bodyHTML:a.innerHTML}}),hasNextPage:o,endCursor:r}}async function Cn(t){const{response:{data:{user:{repositories:{totalCount:e}}}}}=await window.getRepositoriesCount(t);return e}function ke(t){let e=document.createElement("template");return e.innerHTML=t,e}function Ie(t){let e=t.length;for(let n=0;n<e;n++)for(let o=n+1;o<e;o++)t[n].number===t[o].number&&(t.splice(o,1),e--,o--);return t}function ls(t){return new Promise(e=>setTimeout(e,t))}async function*so(){let t=await En(null);for(yield t.discussions;t.hasNextPage;)t=await En(t.endCursor),yield t.discussions;for(t=await Tn(null),yield t.discussions;t.hasNextPage;)t=await Tn(t.endCursor),yield t.discussions}let Sn=so();async function De(t=!1){t&&(Sn=so());const{value:e,done:n}=await Sn.next();return{discussions:e,hasNextPage:!n}}async function cs(t,e){const{response:{data:{addDiscussionComment:{clientMutationId:n}}}}=await window.addDiscussionComment(t,e);return n}async function us(t){const{response:{data:{deleteDiscussion:{clientMutationId:e}}}}=await window.deleteDiscussion(t);return e}async function fs(t){const{response:{data:{repository:{discussion:{id:e}}}}}=await window.getDiscussionId(t);return e}const ro=""+new URL("profile-photo.CcXd1nkm.svg",import.meta.url).href,yt=Ro("config",()=>{const t=T(),e=T([]),n=T(!0);return{author:t,data:e,hasNextPage:n,collaborators:["VacuolePaoo"],owner:"share121"}}),ds=t=>(ft("data-v-f55cf9e1"),t=t(),dt(),t),ps={class:"user-info"},ms=["href"],_s=["src"],hs={class:"user-info-text"},gs=["href"],vs={class:"username"},ws={class:"experience"},ys={class:"curExp"},bs={class:"totalExp"},Ts={class:"level",title:"根据你的公开仓库数计算"},Es={class:"level-num"},As=ds(()=>m("div",{class:"level-text"},"LEVEL",-1)),Cs=W({__name:"user-info",setup(t){const e=yt(),{author:n}=jn(e),o=T(6850),r=T(1e4),i=G(()=>{var l;return((l=n.value)==null?void 0:l.avatarUrl)??ro}),a=G(()=>`${o.value/r.value*100}%`);return Mt(async()=>{typeof window.run>"u"&&(window.run=[]),window.run.push(async()=>{try{n.value=await as()}catch{ut().$toast.error("获取用户信息失败")}})}),(l,u)=>{var c,_,f,g;return b(),S("div",ps,[m("a",{href:(c=p(n))==null?void 0:c.url,target:"_blank"},[m("img",{class:"profile-photo",src:p(i),alt:"我的头像"},null,8,_s)],8,ms),m("div",hs,[m("a",{href:(_=p(n))==null?void 0:_.url,target:"_blank"},[m("div",vs,J(((f=p(n))==null?void 0:f.login)??"传奇绳匠"),1)],8,gs),m("div",ws,[m("div",{class:"bar",style:Me({width:p(a)})},[m("span",ys,J(p(o)),1),Dt(" / "),m("span",bs,J(p(r)),1)],4)])]),m("div",Ts,[m("div",Es,J(((g=p(n))==null?void 0:g.repositoriesCount)??0),1),As])])}}}),Ss=j(Cs,[["__scopeId","data-v-f55cf9e1"]]),Pe=t=>(ft("data-v-cd6856fb"),t=t(),dt(),t),Os={class:"tab-container"},Ls=Pe(()=>m("span",null,"推送",-1)),xs=[Ls],Rs=Pe(()=>m("span",null,"日程",-1)),Is=[Rs],Ds=Pe(()=>m("span",null,"绳网等级",-1)),$s=[Ds],Ms=W({__name:"tab-container",setup(t){const e=T(0);return(n,o)=>(b(),S("div",Os,[m("div",{onClick:o[0]||(o[0]=r=>e.value=0),class:$t([{active:p(e)===0},"tab"])},xs,2),m("div",{onClick:o[1]||(o[1]=r=>e.value=1),class:$t([{active:p(e)===1},"tab"])},Is,2),m("div",{onClick:o[2]||(o[2]=r=>e.value=2),class:$t([{active:p(e)===2},"tab"])},$s,2)]))}}),Ns=j(Ms,[["__scopeId","data-v-cd6856fb"]]),ks=""+new URL("github.CQEOOXmt.svg",import.meta.url).href,Ps=t=>(ft("data-v-b9ead381"),t=t(),dt(),t),Hs=["href"],zs=Ps(()=>m("img",{src:ks,alt:"",width:"62px"},null,-1)),Us=[zs],Fs=W({__name:"github-btn",setup(t){const e=yt();return(n,o)=>(b(),S("a",{target:"_blank",href:`https://github.com/${p(e).owner}/inter-knot`,title:"GitHub"},Us,8,Hs))}}),Ws=j(Fs,[["__scopeId","data-v-b9ead381"]]),Bs=""+new URL("report.FLaaJjQ8.svg",import.meta.url).href,Vs=t=>(ft("data-v-89e3646c"),t=t(),dt(),t),Gs=["href"],js=Vs(()=>m("img",{src:Bs,alt:"",width:"62px"},null,-1)),Ys=[js],Xs=W({__name:"report-btn",setup(t){const e=yt();return(n,o)=>(b(),S("a",{target:"_blank",href:`https://github.com/${p(e).owner}/inter-knot/discussions/1685#new_comment_form`,title:"举报"},Ys,8,Gs))}}),Zs=j(Xs,[["__scopeId","data-v-89e3646c"]]),qs={};function Ks(t,e){const n=Ss,o=Ns,r=Ws,i=Zs;return b(),S("header",null,[z(n,{curExp:6380,totalExp:1e4}),z(o),z(r,{title:"Github"}),z(i,{title:"举报"})])}const Qs=j(qs,[["render",Ks],["__scopeId","data-v-b5b470e5"]]),Js={},tr={xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32",viewBox:"0 0 24 24"},er=m("title",null,"评论数",-1),nr=m("path",{fill:"currentColor",d:"M9 22a1 1 0 0 1-1-1v-3H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2h-6.1l-3.7 3.71c-.2.19-.45.29-.7.29zm1-6v3.08L13.08 16H20V4H4v12zm7-5h-2V9h2zm-4 0h-2V9h2zm-4 0H7V9h2z"},null,-1),or=[er,nr];function sr(t,e){return b(),S("svg",tr,or)}const rr=j(Js,[["render",sr]]);function ue(t){return Yn()?(Xn(t),!0):!1}function V(t){return typeof t=="function"?t():p(t)}const io=typeof window<"u"&&typeof document<"u";typeof WorkerGlobalScope<"u"&&globalThis instanceof WorkerGlobalScope;const ir=t=>t!=null,ar=Object.prototype.toString,lr=t=>ar.call(t)==="[object Object]",ct=()=>{},On=cr();function cr(){var t,e;return io&&((t=window==null?void 0:window.navigator)==null?void 0:t.userAgent)&&(/iP(?:ad|hone|od)/.test(window.navigator.userAgent)||((e=window==null?void 0:window.navigator)==null?void 0:e.maxTouchPoints)>2&&/iPad|Macintosh/.test(window==null?void 0:window.navigator.userAgent))}function ao(t,e){function n(...o){return new Promise((r,i)=>{Promise.resolve(t(()=>e.apply(this,o),{fn:e,thisArg:this,args:o})).then(r).catch(i)})}return n}function ur(t,e={}){let n,o,r=ct;const i=l=>{clearTimeout(l),r(),r=ct};return l=>{const u=V(t),c=V(e.maxWait);return n&&i(n),u<=0||c!==void 0&&c<=0?(o&&(i(o),o=null),Promise.resolve(l())):new Promise((_,f)=>{r=e.rejectOnCancel?f:_,c&&!o&&(o=setTimeout(()=>{n&&i(n),o=null,_(l())},c)),n=setTimeout(()=>{o&&i(o),o=null,_(l())},u)})}}function fr(...t){let e=0,n,o=!0,r=ct,i,a,l,u,c;!ae(t[0])&&typeof t[0]=="object"?{delay:a,trailing:l=!0,leading:u=!0,rejectOnCancel:c=!1}=t[0]:[a,l=!0,u=!0,c=!1]=t;const _=()=>{n&&(clearTimeout(n),n=void 0,r(),r=ct)};return g=>{const v=V(a),h=Date.now()-e,C=()=>i=g();return _(),v<=0?(e=Date.now(),C()):(h>v&&(u||!o)?(e=Date.now(),C()):l&&(i=new Promise(($,x)=>{r=c?x:$,n=setTimeout(()=>{e=Date.now(),o=!0,$(C()),_()},Math.max(0,v-h))})),!u&&!n&&(n=setTimeout(()=>o=!0,v)),o=!1,i)}}function dr(t){return qn()}function pr(...t){if(t.length!==1)return Io(...t);const e=t[0];return typeof e=="function"?Do($o(()=>({get:e,set:ct}))):T(e)}function mr(t,e=200,n={}){return ao(ur(e,n),t)}function _r(t,e=200,n=!1,o=!0,r=!1){return ao(fr(e,n,o,r),t)}function lo(t,e=!0,n){dr()?Mt(t,n):e?t():Zn(t)}function lt(t){var e;const n=V(t);return(e=n==null?void 0:n.$el)!=null?e:n}const Nt=io?window:void 0;function $e(...t){let e,n,o,r;if(typeof t[0]=="string"||Array.isArray(t[0])?([n,o,r]=t,e=Nt):[e,n,o,r]=t,!e)return ct;Array.isArray(n)||(n=[n]),Array.isArray(o)||(o=[o]);const i=[],a=()=>{i.forEach(_=>_()),i.length=0},l=(_,f,g,v)=>(_.addEventListener(f,g,v),()=>_.removeEventListener(f,g,v)),u=q(()=>[lt(e),V(r)],([_,f])=>{if(a(),!_)return;const g=lr(f)?{...f}:f;i.push(...n.flatMap(v=>o.map(h=>l(_,v,h,g))))},{immediate:!0,flush:"post"}),c=()=>{u(),a()};return ue(c),c}function hr(){const t=T(!1),e=qn();return e&&Mt(()=>{t.value=!0},e),t}function co(t){const e=hr();return G(()=>(e.value,!!t()))}function gr(t,e,n={}){const{window:o=Nt,...r}=n;let i;const a=co(()=>o&&"ResizeObserver"in o),l=()=>{i&&(i.disconnect(),i=void 0)},u=G(()=>Array.isArray(t)?t.map(f=>lt(f)):[lt(t)]),c=q(u,f=>{if(l(),a.value&&o){i=new ResizeObserver(e);for(const g of f)g&&i.observe(g,r)}},{immediate:!0,flush:"post"}),_=()=>{l(),c()};return ue(_),{isSupported:a,stop:_}}function vr(t,e={width:0,height:0},n={}){const{window:o=Nt,box:r="content-box"}=n,i=G(()=>{var f,g;return(g=(f=lt(t))==null?void 0:f.namespaceURI)==null?void 0:g.includes("svg")}),a=T(e.width),l=T(e.height),{stop:u}=gr(t,([f])=>{const g=r==="border-box"?f.borderBoxSize:r==="content-box"?f.contentBoxSize:f.devicePixelContentBoxSize;if(o&&i.value){const v=lt(t);if(v){const h=v.getBoundingClientRect();a.value=h.width,l.value=h.height}}else if(g){const v=Array.isArray(g)?g:[g];a.value=v.reduce((h,{inlineSize:C})=>h+C,0),l.value=v.reduce((h,{blockSize:C})=>h+C,0)}else a.value=f.contentRect.width,l.value=f.contentRect.height},n);lo(()=>{const f=lt(t);f&&(a.value="offsetWidth"in f?f.offsetWidth:e.width,l.value="offsetHeight"in f?f.offsetHeight:e.height)});const c=q(()=>lt(t),f=>{a.value=f?e.width:0,l.value=f?e.height:0});function _(){u(),c()}return{width:a,height:l,stop:_}}function wr(t,e,n={}){const{root:o,rootMargin:r="0px",threshold:i=.1,window:a=Nt,immediate:l=!0}=n,u=co(()=>a&&"IntersectionObserver"in a),c=G(()=>{const h=V(t);return(Array.isArray(h)?h:[h]).map(lt).filter(ir)});let _=ct;const f=T(l),g=u.value?q(()=>[c.value,lt(o),f.value],([h,C])=>{if(_(),!f.value||!h.length)return;const $=new IntersectionObserver(e,{root:lt(C),rootMargin:r,threshold:i});h.forEach(x=>x&&$.observe(x)),_=()=>{$.disconnect(),_=ct}},{immediate:l,flush:"post"}):ct,v=()=>{_(),g(),f.value=!1};return ue(v),{isSupported:u,isActive:f,pause(){_(),f.value=!1},resume(){f.value=!0},stop:v}}function yr(t,e={}){const{window:n=Nt,scrollTarget:o,threshold:r=0}=e,i=T(!1);return wr(t,a=>{let l=i.value,u=0;for(const c of a)c.time>=u&&(u=c.time,l=c.isIntersecting);i.value=l},{root:o,window:n,threshold:r}),i}const Ln=1;function br(t,e={}){const{throttle:n=0,idle:o=200,onStop:r=ct,onScroll:i=ct,offset:a={left:0,right:0,top:0,bottom:0},eventListenerOptions:l={capture:!1,passive:!0},behavior:u="auto",window:c=Nt,onError:_=A=>{}}=e,f=T(0),g=T(0),v=G({get(){return f.value},set(A){C(A,void 0)}}),h=G({get(){return g.value},set(A){C(void 0,A)}});function C(A,nt){var U,pt,M,Y;if(!c)return;const N=V(t);if(!N)return;(M=N instanceof Document?c.document.body:N)==null||M.scrollTo({top:(U=V(nt))!=null?U:h.value,left:(pt=V(A))!=null?pt:v.value,behavior:V(u)});const ot=((Y=N==null?void 0:N.document)==null?void 0:Y.documentElement)||(N==null?void 0:N.documentElement)||N;v!=null&&(f.value=ot.scrollLeft),h!=null&&(g.value=ot.scrollTop)}const $=T(!1),x=Le({left:!0,right:!1,top:!0,bottom:!1}),D=Le({left:!1,right:!1,top:!1,bottom:!1}),it=A=>{$.value&&($.value=!1,D.left=!1,D.right=!1,D.top=!1,D.bottom=!1,r(A))},R=mr(it,n+o),et=A=>{var nt;if(!c)return;const U=((nt=A==null?void 0:A.document)==null?void 0:nt.documentElement)||(A==null?void 0:A.documentElement)||lt(A),{display:pt,flexDirection:M}=getComputedStyle(U),Y=U.scrollLeft;D.left=Y<f.value,D.right=Y>f.value;const N=Math.abs(Y)<=(a.left||0),ot=Math.abs(Y)+U.clientWidth>=U.scrollWidth-(a.right||0)-Ln;pt==="flex"&&M==="row-reverse"?(x.left=ot,x.right=N):(x.left=N,x.right=ot),f.value=Y;let st=U.scrollTop;A===c.document&&!st&&(st=c.document.body.scrollTop),D.top=st<g.value,D.bottom=st>g.value;const bt=Math.abs(st)<=(a.top||0),L=Math.abs(st)+U.clientHeight>=U.scrollHeight-(a.bottom||0)-Ln;pt==="flex"&&M==="column-reverse"?(x.top=L,x.bottom=bt):(x.top=bt,x.bottom=L),g.value=st},ht=A=>{var nt;if(!c)return;const U=(nt=A.target.documentElement)!=null?nt:A.target;et(U),$.value=!0,R(A),i(A)};return $e(t,"scroll",n?_r(ht,n,!0,!1):ht,l),lo(()=>{try{const A=V(t);if(!A)return;et(A)}catch(A){_(A)}}),$e(t,"scrollend",it,l),{x:v,y:h,isScrolling:$,arrivedState:x,directions:D,measure(){const A=V(t);c&&A&&et(A)}}}function ie(t){return typeof Window<"u"&&t instanceof Window?t.document.documentElement:typeof Document<"u"&&t instanceof Document?t.documentElement:t}function uo(t,e,n={}){var o;const{direction:r="bottom",interval:i=100,canLoadMore:a=()=>!0}=n,l=Le(br(t,{...n,offset:{[r]:(o=n.distance)!=null?o:0,...n.offset}})),u=T(),c=G(()=>!!u.value),_=G(()=>ie(V(t))),f=yr(_);function g(){if(l.measure(),!_.value||!f.value||!a(_.value))return;const{scrollHeight:v,clientHeight:h,scrollWidth:C,clientWidth:$}=_.value,x=r==="bottom"||r==="top"?v<=h:C<=$;(l.arrivedState[r]||x)&&(u.value||(u.value=Promise.all([e(l),new Promise(D=>setTimeout(D,i))]).finally(()=>{u.value=null,Zn(()=>g())})))}return q(()=>[l.arrivedState[r],f.value],g,{immediate:!0}),{isLoading:c}}function fo(t){const e=window.getComputedStyle(t);if(e.overflowX==="scroll"||e.overflowY==="scroll"||e.overflowX==="auto"&&t.clientWidth<t.scrollWidth||e.overflowY==="auto"&&t.clientHeight<t.scrollHeight)return!0;{const n=t.parentNode;return!n||n.tagName==="BODY"?!1:fo(n)}}function Tr(t){const e=t||window.event,n=e.target;return fo(n)?!1:e.touches.length>1?!0:(e.preventDefault&&e.preventDefault(),!1)}const Se=new WeakMap;function po(t,e=!1){const n=T(e);let o=null,r="";q(pr(t),l=>{const u=ie(V(l));if(u){const c=u;if(Se.get(c)||Se.set(c,c.style.overflow),c.style.overflow!=="hidden"&&(r=c.style.overflow),c.style.overflow==="hidden")return n.value=!0;if(n.value)return c.style.overflow="hidden"}},{immediate:!0});const i=()=>{const l=ie(V(t));!l||n.value||(On&&(o=$e(l,"touchmove",u=>{Tr(u)},{passive:!1})),l.style.overflow="hidden",n.value=!0)},a=()=>{const l=ie(V(t));!l||!n.value||(On&&(o==null||o()),l.style.overflow=r,Se.delete(l),n.value=!1)};return ue(a),G({get(){return n.value},set(l){l?i():a()}})}const Er={class:"cover-container"},Ar=["src"],Cr={class:"comments-count"},Sr={class:"info-container"},Or={class:"profile"},Lr=["src"],xr={class:"username"},Rr={class:"title"},Ir={class:"content"},Dr=W({__name:"card",props:{article:{}},emits:["resize"],setup(t,{emit:e}){const n=t,{article:o}=le(n),r=e,i=T(!1),a=T(!1),l=T(),{height:u}=vr(l);return q(u,()=>r("resize")),(c,_)=>{const f=rr;return b(),S("div",{class:$t(["card",{"is-pinned":p(o).isPinned}])},[m("div",Er,[m("img",{class:"cover",alt:"封面",src:p(i)?p(Yt):p(o).cover,loading:"lazy",style:Me({height:p(a)||p(i)?"unset":"200px"}),onError:_[0]||(_[0]=g=>i.value=!0),onLoad:_[1]||(_[1]=g=>a.value=!0),ref_key:"cover",ref:l},null,44,Ar),m("div",Cr,[z(f),Dt(" "+J(p(o).commentsCount),1)])]),m("div",Sr,[m("div",Or,[m("img",{class:"profile-photo",src:p(o).author.avatarUrl,alt:"头像",loading:"lazy"},null,8,Lr),m("div",xr,J(p(o).author.login),1)]),m("div",Rr,J(p(o).title),1),m("div",Ir,J(p(o).bodyText),1)])],2)}}}),$r=j(Dr,[["__scopeId","data-v-e02abd1b"]]),Mr={class:"identity-tag"},Nr=W({__name:"level-tag",props:{author:{}},setup(t){const e=t,{author:n}=le(e);return q(n,async()=>{if(n.value!==void 0&&typeof n.value.repositoriesCount!="number")try{n.value.repositoriesCount=await Cn(n.value.login)}catch{ut().$toast.error("获取用户等级失败")}}),Mt(async()=>{if(n.value!==void 0&&typeof n.value.repositoriesCount!="number")try{n.value.repositoriesCount=await Cn(n.value.login)}catch{ut().$toast.error("获取用户等级失败")}}),(o,r)=>{var i;return b(),S("span",Mr,"Lv"+J(((i=p(n))==null?void 0:i.repositoriesCount)??0),1)}}}),kr={},Pr={width:"116pt",height:"77pt",viewBox:"0 0 116 77",version:"1.1",xmlns:"http://www.w3.org/2000/svg"},Hr=Mo('<title data-v-e388f6f3>关闭</title><g id="#0c0b0aff" data-v-e388f6f3><path fill="#0c0b0a" opacity="1.00" d=" M 37.37 28.65 C 36.57 26.40 38.63 23.85 41.00 24.20 C 46.48 24.12 47.94 32.76 53.56 31.57 C 56.05 30.24 57.17 27.22 59.43 25.51 C 61.42 23.71 64.26 24.41 66.69 24.26 C 66.95 26.32 67.84 28.61 66.46 30.48 C 64.48 33.15 61.41 34.77 59.49 37.49 C 58.18 41.52 62.25 44.01 64.99 45.99 C 67.24 47.30 67.87 50.33 66.68 52.58 C 65.02 53.79 62.57 54.27 60.70 53.32 C 57.69 50.85 55.68 47.23 52.00 45.57 C 48.86 47.51 46.76 50.59 44.02 52.98 C 41.88 54.67 37.42 54.01 37.21 50.79 C 36.74 48.42 38.87 46.85 40.25 45.28 C 42.25 43.37 43.92 41.16 45.51 38.91 C 43.28 35.09 38.64 33.04 37.37 28.65 Z" data-v-e388f6f3></path></g><g id="#bf2208ff" data-v-e388f6f3><path fill="#bf2208" opacity="1.00" d=" M 31.39 3.44 C 33.86 2.77 36.43 2.58 38.99 2.58 C 58.00 2.61 77.01 2.60 96.02 2.57 C 100.44 2.52 105.12 3.45 108.51 6.48 C 112.99 10.08 114.16 16.35 113.48 21.79 C 112.65 28.92 108.01 34.69 105.13 41.05 C 101.50 49.02 98.16 57.52 91.66 63.66 C 85.40 70.41 76.33 75.02 66.99 74.55 C 54.95 74.34 42.89 74.90 30.88 74.24 C 20.62 71.27 10.66 64.74 6.39 54.58 C 3.70 47.88 1.49 40.42 3.38 33.21 C 4.83 27.61 5.84 21.43 10.09 17.15 C 15.22 10.15 23.23 5.88 31.39 3.44 M 31.34 9.44 C 23.25 12.01 15.83 17.44 12.07 25.20 C 8.26 32.12 7.49 40.57 9.90 48.08 C 12.66 56.44 19.10 63.35 27.05 67.05 C 32.38 69.34 38.29 69.44 44.00 69.39 C 51.68 69.31 59.37 69.47 67.05 69.38 C 73.70 69.34 80.00 66.23 84.98 62.00 C 94.07 52.89 98.55 40.57 104.41 29.38 C 107.05 24.29 109.16 17.58 105.63 12.40 C 103.42 8.78 98.74 8.77 95.00 8.61 C 77.00 8.60 59.00 8.65 41.00 8.58 C 37.77 8.62 34.48 8.57 31.34 9.44 Z" data-v-e388f6f3></path><path fill="#bf2208" opacity="1.00" d=" M 32.44 12.65 C 36.60 12.06 40.81 12.42 45.00 12.36 C 61.35 12.32 77.71 12.41 94.06 12.34 C 97.10 12.42 100.81 12.43 102.84 15.09 C 104.53 18.05 104.15 21.82 102.81 24.85 C 98.08 35.17 92.81 45.27 86.88 54.94 C 81.71 60.92 74.37 66.37 66.05 65.73 C 57.01 65.64 47.98 65.69 38.95 65.71 C 33.36 65.80 27.63 64.27 23.26 60.70 C 17.13 55.59 11.86 48.39 12.15 40.05 C 10.91 27.51 20.51 15.62 32.44 12.65 M 37.37 28.65 C 38.64 33.04 43.28 35.09 45.51 38.91 C 43.92 41.16 42.25 43.37 40.25 45.28 C 38.87 46.85 36.74 48.42 37.21 50.79 C 37.42 54.01 41.88 54.67 44.02 52.98 C 46.76 50.59 48.86 47.51 52.00 45.57 C 55.68 47.23 57.69 50.85 60.70 53.32 C 62.57 54.27 65.02 53.79 66.68 52.58 C 67.87 50.33 67.24 47.30 64.99 45.99 C 62.25 44.01 58.18 41.52 59.49 37.49 C 61.41 34.77 64.48 33.15 66.46 30.48 C 67.84 28.61 66.95 26.32 66.69 24.26 C 64.26 24.41 61.42 23.71 59.43 25.51 C 57.17 27.22 56.05 30.24 53.56 31.57 C 47.94 32.76 46.48 24.12 41.00 24.20 C 38.63 23.85 36.57 26.40 37.37 28.65 Z" data-v-e388f6f3></path></g><g id="#5f0b05ff" data-v-e388f6f3><path fill="#5f0b05" opacity="1.00" d=" M 31.34 9.44 C 34.48 8.57 37.77 8.62 41.00 8.58 C 59.00 8.65 77.00 8.60 95.00 8.61 C 98.74 8.77 103.42 8.78 105.63 12.40 C 109.16 17.58 107.05 24.29 104.41 29.38 C 98.55 40.57 94.07 52.89 84.98 62.00 C 80.00 66.23 73.70 69.34 67.05 69.38 C 59.37 69.47 51.68 69.31 44.00 69.39 C 38.29 69.44 32.38 69.34 27.05 67.05 C 19.10 63.35 12.66 56.44 9.90 48.08 C 7.49 40.57 8.26 32.12 12.07 25.20 C 15.83 17.44 23.25 12.01 31.34 9.44 M 32.44 12.65 C 20.51 15.62 10.91 27.51 12.15 40.05 C 11.86 48.39 17.13 55.59 23.26 60.70 C 27.63 64.27 33.36 65.80 38.95 65.71 C 47.98 65.69 57.01 65.64 66.05 65.73 C 74.37 66.37 81.71 60.92 86.88 54.94 C 92.81 45.27 98.08 35.17 102.81 24.85 C 104.15 21.82 104.53 18.05 102.84 15.09 C 100.81 12.43 97.10 12.42 94.06 12.34 C 77.71 12.41 61.35 12.32 45.00 12.36 C 40.81 12.42 36.60 12.06 32.44 12.65 Z" data-v-e388f6f3></path></g>',4),zr=[Hr];function Ur(t,e){return b(),S("svg",Pr,zr)}const mo=j(kr,[["render",Ur],["__scopeId","data-v-e388f6f3"]]),Fr=t=>(ft("data-v-3455ce1e"),t=t(),dt(),t),Wr=["href"],Br=Fr(()=>m("svg",{xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32",viewBox:"0 0 24 24"},[m("path",{fill:"currentColor",d:"M9.243 18.997H21v2H3v-4.243l9.9-9.9l4.242 4.243zm5.07-13.557l2.122-2.121a1 1 0 0 1 1.414 0l2.829 2.828a1 1 0 0 1 0 1.415l-2.122 2.121z"})],-1)),Vr=W({__name:"reply-btn",props:{url:{}},setup(t){const e=t;return(n,o)=>(b(),S("a",{class:"reply",href:e.url+"#new_comment_form",target:"_blank"},[Br,Dt(" 写回复 ")],8,Wr))}}),Gr=j(Vr,[["__scopeId","data-v-3455ce1e"]]),jr={class:"popup"},Yr=["placeholder"],Xr=["disabled"],Zr=W({__name:"popup-input-box",props:{show:{type:Boolean},title:{},modelValue:{},placeholder:{},disabled:{type:Boolean}},emits:["close","cancel","submit","update:modelValue"],setup(t,{emit:e}){const n=t,o=e,{show:r,title:i,modelValue:a,placeholder:l}=le(n),u=T("");q(a,f=>{u.value=f}),q(u,f=>{o("update:modelValue",f)});const c=po(window);q(r,async f=>{c.value=f,f?window.addEventListener("keyup",_):window.removeEventListener("keyup",_)});function _(f){f.key==="Escape"&&o("close"),f.stopPropagation(),f.stopImmediatePropagation()}return(f,g)=>{const v=mo;return b(),wt(ce,{to:"body"},[m("div",{class:$t(["popup-container",{open:p(r),closed:!p(r)}]),onClick:g[4]||(g[4]=Kn(h=>f.$emit("close"),["self"]))},[m("div",jr,[m("header",null,[m("div",null,J(p(i)),1),z(v,{onClick:g[0]||(g[0]=h=>f.$emit("close"))})]),m("main",null,[m("div",null,[No(m("input",{placeholder:p(l),"onUpdate:modelValue":g[1]||(g[1]=h=>ae(u)?u.value=h:null)},null,8,Yr),[[ko,p(u)]]),m("footer",null,[m("button",{onClick:g[2]||(g[2]=h=>f.$emit("cancel"))},"取消"),m("button",{onClick:g[3]||(g[3]=h=>f.$emit("submit")),disabled:f.disabled}," 确定 ",8,Xr)])])])])],2)])}}}),_o=j(Zr,[["__scopeId","data-v-54a48105"]]),ho=t=>(ft("data-v-f8529ce3"),t=t(),dt(),t),qr=ho(()=>m("title",null,"举报",-1)),Kr=ho(()=>m("path",{d:"M4.00001 20V14C4.00001 9.58172 7.58173 6 12 6C16.4183 6 20 9.58172 20 14V20H21V22H3.00001V20H4.00001ZM6.00001 20H18V14C18 10.6863 15.3137 8 12 8C8.6863 8 6.00001 10.6863 6.00001 14V20ZM11 2H13V5H11V2ZM19.7782 4.80761L21.1924 6.22183L19.0711 8.34315L17.6569 6.92893L19.7782 4.80761ZM2.80762 6.22183L4.22183 4.80761L6.34315 6.92893L4.92894 8.34315L2.80762 6.22183ZM7.00001 14C7.00001 11.2386 9.23858 9 12 9V11C10.3432 11 9.00001 12.3431 9.00001 14H7.00001Z"},null,-1)),Qr=[qr,Kr],Jr=W({__name:"report-article-btn",props:{article:{}},setup(t){const e=t,n=T(!1),o=T("");let r=!1;async function i(){if(n.value=!1,!r){r=!0;try{await cs(await fs(1685),`违规文章：#${e.article.number}
违规原因：${o.value}`),ut().$toast.success("举报成功")}catch{ut().$toast.error("举报失败")}r=!1}}return(a,l)=>{const u=_o;return b(),S(Xt,null,[(b(),S("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",onClick:l[0]||(l[0]=c=>n.value=!0)},Qr)),z(u,{show:p(n),onClose:l[1]||(l[1]=c=>n.value=!1),onCancel:l[2]||(l[2]=c=>n.value=!1),onSubmit:i,modelValue:p(o),"onUpdate:modelValue":l[3]||(l[3]=c=>ae(o)?o.value=c:null),title:"举报原因",placeholder:"请输入举报原因",disabled:p(o).length===0},null,8,["show","modelValue","disabled"])],64)}}}),ti=j(Jr,[["__scopeId","data-v-f8529ce3"]]),go=t=>(ft("data-v-4a13b59f"),t=t(),dt(),t),ei=go(()=>m("title",null,"删除帖子",-1)),ni=go(()=>m("path",{fill:"currentColor",d:"M7 21q-.825 0-1.412-.587T5 19V6H4V4h5V3h6v1h5v2h-1v13q0 .825-.587 1.413T17 21zM17 6H7v13h10zM9 17h2V8H9zm4 0h2V8h-2zM7 6v13z"},null,-1)),oi=[ei,ni],si=W({__name:"rm-article-btn",props:{article:{}},setup(t){const e=t,n=T(!1),o=T("");let r=!1;async function i(){if(n.value=!1,!r){r=!0;try{us(e.article.id),ut().$toast.success("删除成功")}catch{ut().$toast.error("删除失败")}r=!1}}return(a,l)=>{const u=_o;return b(),S(Xt,null,[(b(),S("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",onClick:l[0]||(l[0]=c=>n.value=!0)},oi)),z(u,{show:p(n),onClose:l[1]||(l[1]=c=>n.value=!1),onCancel:l[2]||(l[2]=c=>n.value=!1),onSubmit:i,modelValue:p(o),"onUpdate:modelValue":l[3]||(l[3]=c=>ae(o)?o.value=c:null),title:"确定删除",placeholder:"请输入 yes 删除",disabled:p(o)!=="yes"},null,8,["show","modelValue","disabled"])],64)}}}),ri=j(si,[["__scopeId","data-v-4a13b59f"]]),ii=t=>(ft("data-v-20789fb7"),t=t(),dt(),t),ai={class:"popup"},li=["href"],ci=["src"],ui=["href"],fi={key:0,class:"identity-tag"},di={key:1,class:"identity-tag"},pi={class:"comments-count"},mi=ii(()=>m("svg",{xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32",viewBox:"0 0 24 24"},[m("path",{fill:"currentColor",d:"M9 22a1 1 0 0 1-1-1v-3H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2h-6.1l-3.7 3.71c-.2.19-.45.29-.7.29zm1-6v3.08L13.08 16H20V4H4v12zm7-5h-2V9h2zm-4 0h-2V9h2zm-4 0H7V9h2z"})],-1)),_i={class:"cover"},hi=["src"],gi={class:"title"},vi=["innerHTML"],wi={key:0,class:"action"},yi={class:"comments"},bi={class:"comment"},Ti=["href"],Ei=["src"],Ai={class:"name"},Ci=["href"],Si={key:0,class:"identity-tag"},Oi={key:1,class:"identity-tag"},Li={key:2,class:"identity-tag"},xi={key:3,class:"identity-tag"},Ri=["innerHTML"],Ii=W({__name:"popup-article",props:{show:{type:Boolean},article:{}},emits:["close"],setup(t,{emit:e}){const n=t,o=e,{show:r,article:i}=le(n),a=yt(),l=T();let u=!1;const c=po(window);q(r,async v=>{if(c.value=v,v){if(window.addEventListener("keyup",_),!i.value)return;if(i.value.hasNextPage){const h=i.value;try{const C=await An(h.number,h.endCursor);h.comments.push(...C.comments),h.hasNextPage=C.hasNextPage,h.endCursor=C.endCursor}catch{ut().$toast.error("获取评论失败")}u=!0}}else window.removeEventListener("keyup",_)});function _(v){v.key==="Escape"&&o("close"),v.stopPropagation(),v.stopImmediatePropagation()}uo(l,async()=>{if(u!==!1&&r.value!==!1&&i.value&&i.value.hasNextPage){const v=i.value;try{const h=await An(v.number,v.endCursor);v.comments.push(...h.comments),v.hasNextPage=h.hasNextPage,v.endCursor=h.endCursor}catch{ut().$toast.error("获取评论失败")}}},{distance:1e3}),q(i,async()=>{f.value=!1,u=!1});const f=T(!1),g=G(()=>{var v;return f.value?Yt:((v=i.value)==null?void 0:v.cover)??Yt});return(v,h)=>{var R,et,ht,A,nt,U,pt,M,Y,N,ot,st,bt;const C=Nr,$=mo,x=Gr,D=ti,it=ri;return b(),wt(ce,{to:"body"},[m("div",{class:$t(["popup-container",{open:p(r),closed:!p(r)}]),onClick:h[2]||(h[2]=Kn(L=>v.$emit("close"),["self"]))},[m("div",ai,[m("header",null,[m("a",{target:"_blank",href:((R=p(i))==null?void 0:R.author.url)??"#"},[m("img",{class:"profile-photo",src:((et=p(i))==null?void 0:et.author.avatarUrl)??p(ro),alt:"头像",loading:"lazy"},null,8,ci)],8,li),m("div",null,[m("a",{target:"_blank",href:((ht=p(i))==null?void 0:ht.author.url)??"#"},[Dt(J(((A=p(i))==null?void 0:A.author.login)??"传奇绳匠")+" ",1),z(C,{author:(nt=p(i))==null?void 0:nt.author},null,8,["author"]),((U=p(i))==null?void 0:U.author.login)===p(a).owner?(b(),S("span",fi," 绳网创始人 ")):p(a).collaborators.includes(((pt=p(i))==null?void 0:pt.author.login)??"")?(b(),S("span",di," 绳网管理员 ")):Rt("",!0)],8,ui),m("div",pi,[mi,Dt(" "+J(((M=p(i))==null?void 0:M.commentsCount)??0),1)])]),z($,{onClick:h[0]||(h[0]=L=>v.$emit("close"))})]),m("main",null,[m("div",_i,[m("img",{src:p(g),alt:"封面",loading:"lazy",onError:h[1]||(h[1]=L=>f.value=!0)},null,40,hi)]),m("div",{class:"content",ref_key:"content",ref:l},[m("div",gi,J(((Y=p(i))==null?void 0:Y.title)??"未知"),1),m("div",{class:"text markdown-body",innerHTML:((N=p(i))==null?void 0:N.bodyHTML)??"空"},null,8,vi),p(i)?(b(),S("div",wi,[z(x,{url:(ot=p(i))==null?void 0:ot.url},null,8,["url"]),[p(a).owner,...p(a).collaborators].includes(p(i).author.login)?Rt("",!0):(b(),wt(D,{key:0,article:p(i)},null,8,["article"])),p(a).author&&[p(a).owner,...p(a).collaborators,p(i).author.login].includes((st=p(a).author)==null?void 0:st.login)?(b(),wt(it,{key:1,article:p(i)},null,8,["article"])):Rt("",!0)])):Rt("",!0),m("div",yi,[(b(!0),S(Xt,null,Qn(((bt=p(i))==null?void 0:bt.comments)??[],L=>{var kt,qt;return b(),S("section",bi,[m("a",{target:"_blank",href:L.author.url},[m("img",{class:"profile-photo",src:L.author.avatarUrl,alt:"头像",loading:"lazy"},null,8,Ei)],8,Ti),m("div",null,[m("div",Ai,[m("a",{target:"_blank",href:L.author.url},[Dt(J(L.author.login)+" ",1),z(C,{author:L.author},null,8,["author"]),(L==null?void 0:L.author.login)===((kt=p(a).author)==null?void 0:kt.login)?(b(),S("span",Si," 自己 ")):L.author.login===((qt=p(i))==null?void 0:qt.author.login)?(b(),S("span",Oi," 楼主 ")):Rt("",!0),(L==null?void 0:L.author.login)===p(a).owner?(b(),S("span",Li," 绳网创始人 ")):p(a).collaborators.includes(L==null?void 0:L.author.login)?(b(),S("span",xi," 绳网管理员 ")):Rt("",!0)],8,Ci)]),m("div",{class:"text markdown-body",innerHTML:L.bodyHTML},null,8,Ri)])])}),256))])],512)])])],2)])}}}),Di=j(Ii,[["__scopeId","data-v-20789fb7"]]);function $i(t){return Yn()?(Xn(t),!0):!1}const vo=typeof window<"u";function Mi(t,e){function n(...o){t(()=>e.apply(this,o),{fn:e,thisArg:this,args:o})}return n}function Ni(t,e={}){let n,o;return i=>{const a=p(t),l=p(e.maxWait);if(n&&clearTimeout(n),a<=0||l!==void 0&&l<=0)return o&&(clearTimeout(o),o=null),i();l&&!o&&(o=setTimeout(()=>{n&&clearTimeout(n),o=null,i()},l)),n=setTimeout(()=>{o&&clearTimeout(o),o=null,i()},a)}}function ki(t,e=200,n={}){return Mi(Ni(e,n),t)}function Pi(t){var e;const n=p(t);return(e=n==null?void 0:n.$el)!=null?e:n}const Hi=vo?window:void 0,xn=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Rn="__vueuse_ssr_handlers__";xn[Rn]=xn[Rn]||{};var In=Object.getOwnPropertySymbols,zi=Object.prototype.hasOwnProperty,Ui=Object.prototype.propertyIsEnumerable,Fi=(t,e)=>{var n={};for(var o in t)zi.call(t,o)&&e.indexOf(o)<0&&(n[o]=t[o]);if(t!=null&&In)for(var o of In(t))e.indexOf(o)<0&&Ui.call(t,o)&&(n[o]=t[o]);return n};function Wi(t,e,n={}){const o=n,{window:r=Hi}=o,i=Fi(o,["window"]);let a;const l=r&&"ResizeObserver"in r,u=()=>{a&&(a.disconnect(),a=void 0)},c=q(()=>Pi(t),f=>{u(),l&&r&&f&&(a=new ResizeObserver(e),a.observe(f,i))},{immediate:!0,flush:"post"}),_=()=>{u(),c()};return $i(_),{isSupported:l,stop:_}}var Dn,$n;vo&&(window!=null&&window.navigator)&&((Dn=window==null?void 0:window.navigator)!=null&&Dn.platform)&&/iP(ad|hone|od)/.test(($n=window==null?void 0:window.navigator)==null?void 0:$n.platform);const Bi=({breakpoints:t,wrapperWidth:e,gutter:n,hasAroundGutter:o,initWidth:r})=>{const i=Object.keys(t).map(c=>Number(c)).sort((c,_)=>c-_);let a=e,l=!1;for(const c of i)if(e<=c){a=c,l=!0;break}if(!l)return r;const u=t[a].rowPerView;return o?(e-n)/u-n:(e-(u-1)*n)/u};function Vi(t){const e=T(0),n=T(null);Wi(n,a=>{const l=a[0],{width:u}=l.contentRect;e.value=u});const o=G(()=>Bi({wrapperWidth:e.value,breakpoints:t.breakpoints,gutter:t.gutter,hasAroundGutter:t.hasAroundGutter,initWidth:t.width})),r=G(()=>{const a=t.hasAroundGutter?-t.gutter:t.gutter;return Math.floor((e.value+a)/(o.value+t.gutter))}),i=G(()=>{if(t.align==="left")return 0;if(t.align==="center"){const a=t.hasAroundGutter?t.gutter:-t.gutter,l=r.value*(o.value+t.gutter)+a;return(e.value-l)/2}else{const a=t.hasAroundGutter?t.gutter:-t.gutter,l=r.value*(o.value+t.gutter)+a;return e.value-l}});return{waterfallWrapper:n,wrapperWidth:e,colWidth:o,cols:r,offsetX:i}}function wo(t,e){return new RegExp(`(^|\\s)${e}(\\s|$)`).test(t.className)}function Mn(t,e){if(wo(t,e))return;const n=t.className.split(/\s+/);n.push(e),t.className=n.join(" ")}const Gi=document.createElement("div").style,Oe=(()=>{const t={standard:"transform",webkit:"webkitTransform",Moz:"MozTransform",O:"OTransform",ms:"msTransform"};for(const e in t){const n=t[e];if(Gi[n]!==void 0)return e}return!1})();function Zt(t){return Oe===!1?!1:Oe==="standard"?t:Oe+t.charAt(0).toUpperCase()+t.substr(1)}const Nn=Zt("transform"),kn=Zt("animation-duration"),Pn=Zt("animation-delay"),Hn=Zt("transition"),zn=Zt("animation-fill-mode");function ji(t,e,n,o,r){const i=T([]),a=T(0),l=f=>{const g=t.hasAroundGutter?f+1:f;return t.gutter*g+e.value*f+o.value},u=()=>{i.value=new Array(n.value).fill(t.hasAroundGutter?t.gutter:0)},c=Yi(t);return{wrapperHeight:a,layoutHandle:async()=>new Promise(f=>{u();const g=[];if(r&&r.value&&r.value.childNodes.forEach(v=>{v.className==="waterfall-item"&&g.push(v)}),g.length===0)return!1;for(let v=0;v<g.length;v++){const h=g[v],C=Math.min.apply(null,i.value),$=i.value.indexOf(C),x=l($),D=h.style;Nn&&(D[Nn]=`translate3d(${x}px,${C}px, 0)`),D.width=`${e.value}px`,D.visibility="visible";const{height:it}=h.getBoundingClientRect();i.value[$]+=it+t.gutter,c(h,()=>{const R=t.posDuration/1e3;Hn&&(D[Hn]=`transform ${R}s`)})}a.value=Math.max.apply(null,i.value),setTimeout(()=>{f(!0)},t.posDuration)})}}function Yi(t){return(e,n)=>{const o=e.firstChild;if(o&&!wo(o,t.animationPrefix)){const r=`${t.animationDuration/1e3}s`,i=`${t.animationDelay/1e3}s`,a=o.style;Mn(o,t.animationPrefix),Mn(o,t.animationEffect),kn&&(a[kn]=r),Pn&&(a[Pn]=i),zn&&(a[zn]="both"),n&&setTimeout(()=>{n()},t.animationDuration+t.animationDelay)}}}const Xi=typeof window<"u"&&window!==null,Un=Ki(),Zi=Object.prototype.propertyIsEnumerable,Fn=Object.getOwnPropertySymbols;function qi(t,...e){return e.map(o=>o.replace(/\[(\w+)\]/g,".$1").split(".").reduce((r,i)=>r&&r[i],t))}function Ki(){return Xi&&"IntersectionObserver"in window&&"IntersectionObserverEntry"in window&&"intersectionRatio"in window.IntersectionObserverEntry.prototype?("isIntersecting"in window.IntersectionObserverEntry.prototype||Object.defineProperty(window.IntersectionObserverEntry.prototype,"isIntersecting",{get(){return this.intersectionRatio>0}}),!0):!1}function jt(t){return typeof t=="function"||toString.call(t)==="[object Object]"}function Qi(t){return typeof t=="object"?t===null:typeof t!="function"}function Ji(t){return t!=="__proto__"&&t!=="constructor"&&t!=="prototype"}function ta(t,...e){if(!jt(t))throw new TypeError("expected the first argument to be an object");if(e.length===0||typeof Symbol!="function"||typeof Fn!="function")return t;for(const n of e){const o=Fn(n);for(const r of o)Zi.call(n,r)&&(t[r]=n[r])}return t}function yo(t,...e){let n=0;for(Qi(t)&&(t=e[n++]),t||(t={});n<e.length;n++)if(jt(e[n])){for(const o of Object.keys(e[n]))Ji(o)&&(jt(t[o])&&jt(e[n][o])?yo(t[o],e[n][o]):t[o]=e[n][o]);ta(t,e[n])}return t}function Wn(t,e){return new Promise((n,o)=>{const r=new Image;r.onload=()=>{n(r)},r.onerror=()=>{o(new Error("Image load error"))},e&&(r.crossOrigin="Anonymous"),r.src=t})}var It;(function(t){t.LOADING="loading",t.LOADED="loaded",t.ERROR="error"})(It||(It={}));const ea={rootMargin:"0px",threshold:0},Bn="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7",na="";class oa{constructor(e=!0,n,o=!0){this.lazyActive=!0,this.crossOrigin=!0,this.options={loading:Bn,error:na,observerOptions:ea,log:!0,ratioCalculator:(r,i)=>i/r},this._images=new WeakMap,this.lazyActive=e,this.crossOrigin=o,this.config(n)}config(e={}){yo(this.options,e),e.ratioCalculator&&(this.options.ratioCalculator=e.ratioCalculator)}mount(e,n,o){const{src:r,loading:i,error:a}=this._valueFormatter(n);e.setAttribute("lazy",It.LOADING),e.setAttribute("src",i||Bn),this.lazyActive?(Un||(this._setImageSrc(e,r,o,a),this._log(()=>{throw new Error("Not support IntersectionObserver!")})),this._initIntersectionObserver(e,r,o,a)):this._setImageSrc(e,r,o,a)}resize(e,n){const o=e.getAttribute("lazy"),r=e.getAttribute("src");o&&o===It.LOADED&&r&&Wn(r,this.crossOrigin).then(i=>{const{width:a,height:l}=i,u=e.width/a*l;e.height=u;const c=e.style;c.height=`${u}px`,n()})}unmount(e){const n=this._realObserver(e);n&&n.unobserve(e),this._images.delete(e)}_setImageSrc(e,n,o,r){!n||e.getAttribute("src")===n||Wn(n,this.crossOrigin).then(a=>{var l,u;const{width:c,height:_}=a,f=((u=(l=this.options).ratioCalculator)==null?void 0:u.call(l,c,_))||_/c,g=e.parentNode.parentNode;g.style.paddingBottom=`${f*100}%`,e.setAttribute("lazy",It.LOADED),e.removeAttribute("src"),e.setAttribute("src",n),o(!0)}).catch(()=>{const a=this._realObserver(e);a&&a.disconnect(),r&&(e.setAttribute("lazy",It.ERROR),e.setAttribute("src",r),o(!1)),this._log(()=>{throw new Error(`Image failed to load!And failed src was: ${n} `)})})}_isOpenLazy(){return Un&&this.lazyActive}_initIntersectionObserver(e,n,o,r){const i=this.options.observerOptions;this._images.set(e,new IntersectionObserver(l=>{Array.prototype.forEach.call(l,u=>{if(u.isIntersecting){const c=this._realObserver(e);c&&c.unobserve(u.target),this._setImageSrc(e,n,o,r)}})},i));const a=this._realObserver(e);a&&a.observe(e)}_valueFormatter(e){let n=e,o=this.options.loading,r=this.options.error;return jt(e)&&(n=e.src,o=e.loading||this.options.loading,r=e.error||this.options.error),{src:n,loading:o,error:r}}_log(e){this.options.log&&e()}_realObserver(e){return this._images.get(e)}}var sa=(t,e)=>{for(const[n,o]of e)t[n]=o;return t};const He=W({props:{list:{type:Array,default:()=>[]},rowKey:{type:String,default:"id"},imgSelector:{type:String,default:"src"},width:{type:Number,default:200},breakpoints:{type:Object,default:()=>({1200:{rowPerView:3},800:{rowPerView:2},500:{rowPerView:1}})},gutter:{type:Number,default:10},hasAroundGutter:{type:Boolean,default:!0},posDuration:{type:Number,default:300},animationPrefix:{type:String,default:"animate__animated"},animationEffect:{type:String,default:"fadeIn"},animationDuration:{type:Number,default:1e3},animationDelay:{type:Number,default:300},backgroundColor:{type:String,default:"#fff"},lazyload:{type:Boolean,default:!0},loadProps:{type:Object,default:()=>{}},crossOrigin:{type:Boolean,default:!0},delay:{type:Number,default:300},align:{type:String,default:"center"}},setup(t,e){const n=new oa(t.lazyload,t.loadProps,t.crossOrigin);se("lazy",n);const{waterfallWrapper:o,wrapperWidth:r,colWidth:i,cols:a,offsetX:l}=Vi(t),{wrapperHeight:u,layoutHandle:c}=ji(t,i,a,l,o),_=ki(()=>{c().then(()=>{e.emit("afterRender")})},t.delay);q(()=>[r,i,t.list],()=>{r.value>0&&_()},{deep:!0});const f=T(0);return se("sizeChangeTime",f),se("imgLoaded",_),{waterfallWrapper:o,wrapperHeight:u,getRenderURL:h=>qi(h,t.imgSelector)[0],getKey:(h,C)=>h[t.rowKey]||C,renderer:_}}}),Vn=()=>{Po(t=>({"84adae44":t.backgroundColor}))},Gn=He.setup;He.setup=Gn?(t,e)=>(Vn(),Gn(t,e)):Vn;const ra=He,ia={class:"waterfall-card"};function aa(t,e,n,o,r,i){return b(),S("div",{ref:"waterfallWrapper",class:"waterfall-list",style:Me({height:`${t.wrapperHeight}px`})},[(b(!0),S(Xt,null,Qn(t.list,(a,l)=>(b(),S("div",{key:t.getKey(a,l),class:"waterfall-item"},[m("div",ia,[Ho(t.$slots,"item",{item:a,index:l,url:t.getRenderURL(a)},void 0)])]))),128))],4)}var la=sa(ra,[["render",aa],["__scopeId","data-v-6d3e5303"]]);const bo=t=>(ft("data-v-d6ff8da0"),t=t(),dt(),t),ca={key:0,class:"center"},ua=bo(()=>m("a",{href:"https://greasyfork.org/zh-CN/scripts/502874",class:"link"}," 请更新“绳网小助手”，最新版本为 1.9.0 ",-1)),fa=[ua],da={key:1,class:"center"},pa=bo(()=>m("a",{href:"https://greasyfork.org/zh-CN/scripts/502874",class:"link"}," 请安装“绳网小助手” ",-1)),ma=[pa],_a=W({__name:"main-container",setup(t){const e=yt(),{data:n}=jn(e),o=T(!1),r=T(!1),i=T(!1),a=T(),l=G(()=>n.value.map(c=>({src:c.cover,article:c}))),u=T();return Mt(async()=>{setTimeout(()=>{typeof window.getUserInfo!="function"?r.value=!0:window.version!=="1.9.0"&&(o.value=!0)},2e3),typeof window.run>"u"&&(window.run=[]),window.run.push(async()=>{if(window.version!=="1.9.0"){o.value=!0;return}uo(window,async()=>{if(e.hasNextPage!==!1)try{const c=await De();e.hasNextPage=c.hasNextPage,n.value.push(...c.discussions),Ie(n.value)}catch{ut().$toast.error("获取文章失败")}},{distance:1e3})})}),(c,_)=>{const f=$r,g=Uo,v=Di;return b(),S("main",null,[p(o)?(b(),S("div",ca,fa)):p(r)?(b(),S("div",da,ma)):(b(),wt(g,{key:2},{default:pn(()=>[z(p(la),{list:p(l),"background-color":"transparent",width:256,"img-selector":"img",ref_key:"waterfall",ref:u,breakpoints:[{width:256,cols:1},{width:512,cols:2},{width:768,cols:3},{width:1024,cols:4},{width:1280,cols:5},{width:1440,cols:6},{width:1600,cols:7},{width:1920,cols:8}]},{item:pn(({item:h})=>[(b(),wt(f,{key:h.article.url,article:h.article,onClick:C=>{a.value=h.article,i.value=!0},onResize:_[0]||(_[0]=C=>p(u).renderer())},null,8,["article","onClick"]))]),_:1},8,["list"])]),_:1})),z(v,{onClose:_[1]||(_[1]=h=>i.value=!1),show:p(i),article:p(a)},null,8,["show","article"])])}}}),ha=j(_a,[["__scopeId","data-v-d6ff8da0"]]),ga=t=>(ft("data-v-768b224d"),t=t(),dt(),t),va=["href"],wa=ga(()=>m("svg",{xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32",viewBox:"0 0 24 24"},[m("path",{fill:"currentColor",d:"M9.243 18.997H21v2H3v-4.243l9.9-9.9l4.242 4.243zm5.07-13.557l2.122-2.121a1 1 0 0 1 1.414 0l2.829 2.828a1 1 0 0 1 0 1.415l-2.122 2.121z"})],-1)),ya=[wa],ba=W({__name:"write-btn",setup(t){const e=yt();return(n,o)=>(b(),wt(ce,{to:"body"},[m("a",{class:"write",target:"_blank",title:"写文章",href:`https://github.com/${p(e).owner}/inter-knot/discussions/new?category=general`},ya,8,va)]))}}),Ta=j(ba,[["__scopeId","data-v-768b224d"]]),Ea=t=>(ft("data-v-07264145"),t=t(),dt(),t),Aa=Ea(()=>m("svg",{xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32",viewBox:"0 0 24 24"},[m("path",{fill:"currentColor",d:"M5.463 4.433A9.96 9.96 0 0 1 12 2c5.523 0 10 4.477 10 10c0 2.136-.67 4.116-1.81 5.74L17 12h3A8 8 0 0 0 6.46 6.228zm13.074 15.134A9.96 9.96 0 0 1 12 22C6.477 22 2 17.523 2 12c0-2.136.67-4.116 1.81-5.74L7 12H4a8 8 0 0 0 13.54 5.772z"})],-1)),Ca=[Aa],Sa=W({__name:"refresh-btn",emits:["refresh"],setup(t){return yt(),(e,n)=>(b(),wt(ce,{to:"body"},[m("div",{class:"refresh",title:"刷新",onClick:n[0]||(n[0]=o=>e.$emit("refresh"))},Ca)]))}}),Oa=j(Sa,[["__scopeId","data-v-07264145"]]),xa=W({__name:"index",setup(t){const e=yt();async function n(){try{e.data.length=0,document.documentElement.scrollTop=0;const o=await De(!0);for(e.hasNextPage=o.hasNextPage,e.data.push(...o.discussions),Ie(e.data);document.documentElement.scrollHeight!==document.documentElement.clientHeight;)await ls(100);for(;document.documentElement.scrollHeight<=document.documentElement.clientHeight&&e.hasNextPage!==!1;){const r=await De();e.hasNextPage=r.hasNextPage,e.data.push(...r.discussions),Ie(e.data)}}catch{ut().$toast.error("刷新失败")}}return(o,r)=>{const i=Qs,a=ha,l=Ta,u=Oa;return b(),S(Xt,null,[z(i),z(a),z(l),z(u,{onRefresh:n})],64)}}});export{xa as default};
