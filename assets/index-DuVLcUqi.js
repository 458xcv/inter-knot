(function(){const l=document.createElement("link").relList;if(l&&l.supports&&l.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))f(a);new MutationObserver(a=>{for(const m of a)if(m.type==="childList")for(const p of m.addedNodes)p.tagName==="LINK"&&p.rel==="modulepreload"&&f(p)}).observe(document,{childList:!0,subtree:!0});function d(a){const m={};return a.integrity&&(m.integrity=a.integrity),a.referrerPolicy&&(m.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?m.credentials="include":a.crossOrigin==="anonymous"?m.credentials="omit":m.credentials="same-origin",m}function f(a){if(a.ep)return;a.ep=!0;const m=d(a);fetch(a.href,m)}})();var X=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function ee(u){return u&&u.__esModule&&Object.prototype.hasOwnProperty.call(u,"default")?u.default:u}var q={exports:{}};(function(u,l){(function(d,f){u.exports=f()})(X,function(){function d(e,t){var n=void 0;return function(){n&&clearTimeout(n),n=setTimeout(e,t)}}function f(e,t){for(var n=e.length,r=n,s=[];n--;)s.push(t(e[r-n-1]));return s}function a(e,t){var n=arguments.length>2&&arguments[2]!==void 0&&arguments[2];if(window.Promise)return j(e,t,n);e.recalculate(!0,!0)}function m(e){for(var t=e.options,n=e.responsiveOptions,r=e.keys,s=e.docWidth,o=void 0,i=0;i<r.length;i++){var c=parseInt(r[i],10);s>=c&&(o=t.breakAt[c],O(o,n))}return n}function p(e){for(var t=e.options,n=e.responsiveOptions,r=e.keys,s=e.docWidth,o=void 0,i=r.length-1;i>=0;i--){var c=parseInt(r[i],10);s<=c&&(o=t.breakAt[c],O(o,n))}return n}function E(e){var t=e.useContainerForBreakpoints?e.container.clientWidth:window.innerWidth,n={columns:e.columns};v(e.margin)?n.margin={x:e.margin.x,y:e.margin.y}:n.margin={x:e.margin,y:e.margin};var r=Object.keys(e.breakAt);return e.mobileFirst?m({options:e,responsiveOptions:n,keys:r,docWidth:t}):p({options:e,responsiveOptions:n,keys:r,docWidth:t})}function L(e){return E(e).columns}function x(e){return E(e).margin}function T(e){var t=!(arguments.length>1&&arguments[1]!==void 0)||arguments[1],n=L(e),r=x(e).x,s=100/n;if(!t)return s;if(n===1)return"100%";var o="px";if(typeof r=="string"){var i=parseFloat(r);o=r.replace(i,""),r=i}return r=(n-1)*r/n,o==="%"?s-r+"%":"calc("+s+"% - "+r+o+")"}function S(e,t){var n=L(e.options),r=0,s=void 0,o=void 0;if(++t===1)return 0;o=x(e.options).x;var i="px";if(typeof o=="string"){var c=parseFloat(o,10);i=o.replace(c,""),o=c}return s=(o-(n-1)*o/n)*(t-1),r+=T(e.options,!1)*(t-1),i==="%"?r+s+"%":"calc("+r+"% + "+s+i+")"}function C(e){var t=0,n=e.container,r=e.rows;w(r,function(s){t=s>t?s:t}),n.style.height=t+"px"}function U(e,t){var n=arguments.length>2&&arguments[2]!==void 0&&arguments[2],r=!(arguments.length>3&&arguments[3]!==void 0)||arguments[3],s=L(e.options),o=x(e.options).y;P(e,s,n),w(t,function(i){var c=0,A=parseInt(i.offsetHeight,10);isNaN(A)||(e.rows.forEach(function(Y,K){Y<e.rows[c]&&(c=K)}),i.style.position="absolute",i.style.top=e.rows[c]+"px",i.style.left=""+e.cols[c],e.rows[c]+=isNaN(A)?0:A+o,r&&(i.dataset.macyComplete=1))}),r&&(e.tmpRows=null),C(e)}function $(e,t){var n=arguments.length>2&&arguments[2]!==void 0&&arguments[2],r=!(arguments.length>3&&arguments[3]!==void 0)||arguments[3],s=L(e.options),o=x(e.options).y;P(e,s,n),w(t,function(i){e.lastcol===s&&(e.lastcol=0);var c=Z(i,"height");c=parseInt(i.offsetHeight,10),isNaN(c)||(i.style.position="absolute",i.style.top=e.rows[e.lastcol]+"px",i.style.left=""+e.cols[e.lastcol],e.rows[e.lastcol]+=isNaN(c)?0:c+o,e.lastcol+=1,r&&(i.dataset.macyComplete=1))}),r&&(e.tmpRows=null),C(e)}var h=function e(t,n){if(!(this instanceof e))return new e(t,n);if(t&&t.nodeName)return t;if(t=t.replace(/^\s*/,"").replace(/\s*$/,""),n)return this.byCss(t,n);for(var r in this.selectors)if(n=r.split("/"),new RegExp(n[1],n[2]).test(t))return this.selectors[r](t);return this.byCss(t)};h.prototype.byCss=function(e,t){return(t||document).querySelectorAll(e)},h.prototype.selectors={},h.prototype.selectors[/^\.[\w\-]+$/]=function(e){return document.getElementsByClassName(e.substring(1))},h.prototype.selectors[/^\w+$/]=function(e){return document.getElementsByTagName(e)},h.prototype.selectors[/^\#[\w\-]+$/]=function(e){return document.getElementById(e.substring(1))};var w=function(e,t){for(var n=e.length,r=n;n--;)t(e[r-n-1])},b=function(){var e=arguments.length>0&&arguments[0]!==void 0&&arguments[0];this.running=!1,this.events=[],this.add(e)};b.prototype.run=function(){if(!this.running&&this.events.length>0){var e=this.events.shift();this.running=!0,e(),this.running=!1,this.run()}},b.prototype.add=function(){var e=this,t=arguments.length>0&&arguments[0]!==void 0&&arguments[0];return!!t&&(Array.isArray(t)?w(t,function(n){return e.add(n)}):(this.events.push(t),void this.run()))},b.prototype.clear=function(){this.events=[]};var V=function(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return this.instance=e,this.data=t,this},I=function(){var e=arguments.length>0&&arguments[0]!==void 0&&arguments[0];this.events={},this.instance=e};I.prototype.on=function(){var e=arguments.length>0&&arguments[0]!==void 0&&arguments[0],t=arguments.length>1&&arguments[1]!==void 0&&arguments[1];return!(!e||!t)&&(Array.isArray(this.events[e])||(this.events[e]=[]),this.events[e].push(t))},I.prototype.emit=function(){var e=arguments.length>0&&arguments[0]!==void 0&&arguments[0],t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(!e||!Array.isArray(this.events[e]))return!1;var n=new V(this.instance,t);w(this.events[e],function(r){return r(n)})};var N=function(e){return!("naturalHeight"in e&&e.naturalHeight+e.naturalWidth===0)||e.width+e.height!==0},k=function(e,t){var n=arguments.length>2&&arguments[2]!==void 0&&arguments[2];return new Promise(function(r,s){if(t.complete)return N(t)?r(t):s(t);t.addEventListener("load",function(){return N(t)?r(t):s(t)}),t.addEventListener("error",function(){return s(t)})}).then(function(r){n&&e.emit(e.constants.EVENT_IMAGE_LOAD,{img:r})}).catch(function(r){return e.emit(e.constants.EVENT_IMAGE_ERROR,{img:r})})},D=function(e,t){var n=arguments.length>2&&arguments[2]!==void 0&&arguments[2];return f(t,function(r){return k(e,r,n)})},j=function(e,t){var n=arguments.length>2&&arguments[2]!==void 0&&arguments[2];return Promise.all(D(e,t,n)).then(function(){e.emit(e.constants.EVENT_IMAGE_COMPLETE)})},F=function(e){return d(function(){e.emit(e.constants.EVENT_RESIZE),e.queue.add(function(){return e.recalculate(!0,!0)})},100)},G=function(e){if(e.container=h(e.options.container),e.container instanceof h||!e.container)return!!e.options.debug&&console.error("Error: Container not found");e.container.length&&(e.container=e.container[0]),e.options.container=e.container,e.container.style.position="relative"},z=function(e){e.queue=new b,e.events=new I(e),e.rows=[],e.resizer=F(e)},B=function(e){var t=h("img",e.container);window.addEventListener("resize",e.resizer),e.on(e.constants.EVENT_IMAGE_LOAD,function(){return e.recalculate(!1,!1)}),e.on(e.constants.EVENT_IMAGE_COMPLETE,function(){return e.recalculate(!0,!0)}),e.options.useOwnImageLoader||a(e,t,!e.options.waitForImages),e.emit(e.constants.EVENT_INITIALIZED)},W=function(e){G(e),z(e),B(e)},v=function(e){return e===Object(e)&&Object.prototype.toString.call(e)!=="[object Array]"},O=function(e,t){v(e)||(t.columns=e),v(e)&&e.columns&&(t.columns=e.columns),v(e)&&e.margin&&!v(e.margin)&&(t.margin={x:e.margin,y:e.margin}),v(e)&&e.margin&&v(e.margin)&&e.margin.x&&(t.margin.x=e.margin.x),v(e)&&e.margin&&v(e.margin)&&e.margin.y&&(t.margin.y=e.margin.y)},Z=function(e,t){return window.getComputedStyle(e,null).getPropertyValue(t)},P=function(e,t){var n=arguments.length>2&&arguments[2]!==void 0&&arguments[2];if(e.lastcol||(e.lastcol=0),e.rows.length<1&&(n=!0),n){e.rows=[],e.cols=[],e.lastcol=0;for(var r=t-1;r>=0;r--)e.rows[r]=0,e.cols[r]=S(e,r)}else if(e.tmpRows){e.rows=[];for(var r=t-1;r>=0;r--)e.rows[r]=e.tmpRows[r]}else{e.tmpRows=[];for(var r=t-1;r>=0;r--)e.tmpRows[r]=e.rows[r]}},H=function(e){var t=arguments.length>1&&arguments[1]!==void 0&&arguments[1],n=!(arguments.length>2&&arguments[2]!==void 0)||arguments[2],r=t?e.container.children:h(':scope > *:not([data-macy-complete="1"])',e.container);r=Array.from(r).filter(function(o){return o.offsetParent!==null});var s=T(e.options);return w(r,function(o){t&&(o.dataset.macyComplete=0),o.style.width=s}),e.options.trueOrder?($(e,r,t,n),e.emit(e.constants.EVENT_RECALCULATED)):(U(e,r,t,n),e.emit(e.constants.EVENT_RECALCULATED))},J=function(){return!!window.Promise},Q=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};Array.from||(Array.from=function(e){for(var t=0,n=[];t<e.length;)n.push(e[t++]);return n});var M={columns:4,margin:2,trueOrder:!1,waitForImages:!1,useImageLoader:!0,breakAt:{},useOwnImageLoader:!1,onInit:!1,cancelLegacy:!1,useContainerForBreakpoints:!1};(function(){try{document.createElement("a").querySelector(":scope *")}catch{(function(){function t(o){return function(i){if(i&&n.test(i)){var c=this.getAttribute("id");c||(this.id="q"+Math.floor(9e6*Math.random())+1e6),arguments[0]=i.replace(n,"#"+this.id);var A=o.apply(this,arguments);return c===null?this.removeAttribute("id"):c||(this.id=c),A}return o.apply(this,arguments)}}var n=/:scope\b/gi,r=t(Element.prototype.querySelector);Element.prototype.querySelector=function(o){return r.apply(this,arguments)};var s=t(Element.prototype.querySelectorAll);Element.prototype.querySelectorAll=function(o){return s.apply(this,arguments)}})()}})();var g=function e(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:M;if(!(this instanceof e))return new e(t);this.options={},Q(this.options,M,t),this.options.cancelLegacy&&!J()||W(this)};return g.init=function(e){return console.warn("Depreciated: Macy.init will be removed in v3.0.0 opt to use Macy directly like so Macy({ /*options here*/ }) "),new g(e)},g.prototype.recalculateOnImageLoad=function(){var e=arguments.length>0&&arguments[0]!==void 0&&arguments[0];return a(this,h("img",this.container),!e)},g.prototype.runOnImageLoad=function(e){var t=arguments.length>1&&arguments[1]!==void 0&&arguments[1],n=h("img",this.container);return this.on(this.constants.EVENT_IMAGE_COMPLETE,e),t&&this.on(this.constants.EVENT_IMAGE_LOAD,e),a(this,n,t)},g.prototype.recalculate=function(){var e=this,t=arguments.length>0&&arguments[0]!==void 0&&arguments[0],n=!(arguments.length>1&&arguments[1]!==void 0)||arguments[1];return n&&this.queue.clear(),this.queue.add(function(){return H(e,t,n)})},g.prototype.remove=function(){window.removeEventListener("resize",this.resizer),w(this.container.children,function(e){e.removeAttribute("data-macy-complete"),e.removeAttribute("style")}),this.container.removeAttribute("style")},g.prototype.reInit=function(){this.recalculate(!0,!0),this.emit(this.constants.EVENT_INITIALIZED),window.addEventListener("resize",this.resizer),this.container.style.position="relative"},g.prototype.on=function(e,t){this.events.on(e,t)},g.prototype.emit=function(e,t){this.events.emit(e,t)},g.constants={EVENT_INITIALIZED:"macy.initialized",EVENT_RECALCULATED:"macy.recalculated",EVENT_IMAGE_LOAD:"macy.image.load",EVENT_IMAGE_ERROR:"macy.image.error",EVENT_IMAGE_COMPLETE:"macy.images.complete",EVENT_RESIZE:"macy.resize"},g.prototype.constants=g.constants,g})})(q);var te=q.exports;const ne=ee(te);LA.init({id:"3J6dEY8wQU3ZxACy",ck:"3J6dEY8wQU3ZxACy",autoTrack:!0,prefix:"inter-knot/event"});const _=[...document.querySelectorAll(".tab-container .tab")];_.forEach(u=>{u.addEventListener("click",()=>{_.forEach(l=>l.classList.remove("active")),u.classList.add("active")})});const y=document.querySelector(".popup-container");y.addEventListener("click",u=>{u.target===y&&(y.classList.remove("open"),y.classList.add("closed"))});const re=ne({container:".card-container",columns:5,margin:{x:0,y:0}});oe({curExp:6982,totalExp:1e4,level:9999,name:"share121",profilePhoto:new URL("/inter-knot/%E6%88%91%E7%9A%84%E5%A4%B4%E5%83%8F.png",import.meta.url).href});ie(Array(200).fill(null).map(()=>({title:"标题标题标题标题标题标题标题标题标题标题标题标题标题标题标题标题",content:"内容内容内容内容内容内容内<br />容内容内容内容内容内容内容内容内容内容内容内容内容内容内容内容内容内容内容内容内容内容",author:"作者作者作者作者作者作者作者作者作者作者作者作者作者作者作者作者作者作者作者作者作者",authorPhoto:new URL(`image${R(0,3)}.png`,location.href).href,cover:new URL(`image${R(0,3)}.png`,location.href).href,visited:R(0,1e4)})));function R(u,l){const d=Math.ceil(u),f=Math.floor(l);return Math.floor(Math.random()*(f-d)+d)}function oe({curExp:u,totalExp:l,level:d,name:f,profilePhoto:a}){document.querySelector(".user-info .profile-photo").src=a,document.querySelector(".user-info .curExp").textContent=u+"",document.querySelector(".user-info .totalExp").textContent=l+"",document.querySelector(".user-info .level-num").textContent=d+"",document.querySelector(".user-info .username").textContent=f,document.querySelector(".user-info .bar").style.width=u/l*100+"%"}function ie(u){document.querySelector(".card-container").innerHTML=u.map(({cover:l,title:d,author:f,authorPhoto:a,content:m,visited:p})=>`<div class="card-wrapper"><div class="card"><section class="cover-container"><img class="cover" src="${l}" alt="封面" /><div class="visited"><svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 24 24" ><path fill="currentColor" d="M1.182 12C2.122 6.88 6.608 3 12 3s9.878 3.88 10.819 9c-.94 5.12-5.427 9-10.819 9s-9.878-3.88-10.818-9M12 17a5 5 0 1 0 0-10a5 5 0 0 0 0 10m0-2a3 3 0 1 1 0-6a3 3 0 0 1 0 6" /></svg>${p}</div></section><section class="info-container"><div class="profile"><img class="profile-photo" src="${a}" alt="头像" /><div class="username">${f}</div></div><div class="title">${d}</div><div class="content">${m}</div></section></div></div>`).join(""),document.querySelectorAll(".card-container img").forEach(l=>l.addEventListener("load",()=>re.recalculate(!0),{once:!0})),document.querySelectorAll(".card-container .card").forEach((l,d)=>{const{cover:f,title:a,author:m,authorPhoto:p,content:E,visited:L}=u[d];l.addEventListener("click",()=>{se({cover:f,title:a,author:m,authorPhoto:p,content:E,visited:L,comments:[{name:"dfsdf",profilePhoto:new URL("头像.png",location.href).href,text:"测试评论"},{name:"dfsdf",profilePhoto:new URL("头像.png",location.href).href,text:"测试评论"},{name:"dfsdf",profilePhoto:new URL("头像.png",location.href).href,text:"测试评论"},{name:"dfsdf",profilePhoto:new URL("头像.png",location.href).href,text:"测试评论"},{name:"dfsdf",profilePhoto:new URL("头像.png",location.href).href,text:"测试评论"},{name:"dfsdf",profilePhoto:new URL("头像.png",location.href).href,text:"测试评论"},{name:"dfsdf",profilePhoto:new URL("头像.png",location.href).href,text:"测试评论"},{name:"dfsdf",profilePhoto:new URL("头像.png",location.href).href,text:"测试评论"},{name:"dfsdf",profilePhoto:new URL("头像.png",location.href).href,text:"测试评论"},{name:"dfsdf",profilePhoto:new URL("头像.png",location.href).href,text:"测试评论"},{name:"dfsdf",profilePhoto:new URL("头像.png",location.href).href,text:"测试评论"},{name:"dfsdf",profilePhoto:new URL("头像.png",location.href).href,text:"测试评论"},{name:"dfsdf",profilePhoto:new URL("头像.png",location.href).href,text:"测试评论"},{name:"dfsdf",profilePhoto:new URL("头像.png",location.href).href,text:"测试评论"}]})})})}function se({authorPhoto:u,author:l,visited:d,cover:f,title:a,content:m,comments:p}){y.innerHTML=`<div class="popup"><header><img class="profile-photo" src="${u}" alt="头像" /><div><div>${l}</div><div class="visited"><svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 24 24" ><path fill="currentColor" d="M1.182 12C2.122 6.88 6.608 3 12 3s9.878 3.88 10.819 9c-.94 5.12-5.427 9-10.819 9s-9.878-3.88-10.818-9M12 17a5 5 0 1 0 0-10a5 5 0 0 0 0 10m0-2a3 3 0 1 1 0-6a3 3 0 0 1 0 6" /></svg>${d}</div></div><div class="close-btn"><svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 24 24" ><path fill="currentColor" d="m12 10.587l4.95-4.95l1.414 1.414l-4.95 4.95l4.95 4.95l-1.415 1.414l-4.95-4.95l-4.949 4.95l-1.414-1.415l4.95-4.95l-4.95-4.95L7.05 5.638z" /></svg></div></header><main><div class="cover"><img src="${f}" alt="封面" /></div><div class="content"><div class="title">${a}</div><div class="text">${m}</div><div class="comments">${p.map(E=>`<section class="comment"><img class="profile-photo" src="${E.profilePhoto}" alt="头像" /><div><div class="name">${E.name}</div><div class="text">${E.text}</div></div></section>`).join("")}</div></div></main></div>`,document.querySelector(".close-btn").addEventListener("click",()=>{y.classList.remove("open"),y.classList.add("closed")}),y.classList.remove("closed"),y.classList.add("open")}
